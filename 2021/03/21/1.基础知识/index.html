<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		1.基础知识-Fortran | 
	 
	尼古拉斯冰的笔记
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	


	<!-- search -->
	<script>
		var searchEngine = "https://www.google.com/search?q=";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "ChzhanYeb.github.io";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

	
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3efe99c287df5a1d6f0d02d187e403c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<header id="header">
    <a id="title" href="/" class="logo">尼古拉斯冰的笔记</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">ABOUT</a>
		</li>
	

	
		<li class="menu-item">
			<a href="https://github.com/ChzhanYeb" class="menu-item-link" target="_blank">
				<i class="fa fa-github fa-2x"></i>
			</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="按回车全站搜索">
		<div id="tree">
			

			
							<ul>
								<li class="file">
									<a href="/2021/03/22/1.3%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92/">
										1.3动量守恒
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2021/03/21/1.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">
										1.基础知识
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/23/2.%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%9F%BA%E7%A1%80/">
										2.输入输出基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/23/3.%E7%B1%BB%E5%9E%8B/">
										3.类型
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/24/Turbulent%20gravitational%20convection%20from%20maintained%20and%20instantaneous%20sources/">
										Turbulent gravitational convection from maintained and instantaneous sources
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/25/%E4%B8%AD%E5%AD%90%E5%BC%B9%E6%80%A7%E6%95%A3%E5%B0%84%E7%A2%B0%E6%92%9E%E5%85%AC%E5%BC%8F%E5%8F%8A%E8%83%BD%E9%87%8F%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/">
										中子弹性散射碰撞公式及能量概率分布公式推导
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/25/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%85%A2%E5%8C%96%E8%BF%87%E7%A8%8B/">
										中子的慢化过程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/15/%E6%91%A9%E5%B0%94%E6%9B%BC%E6%96%AF%E5%85%8B%E4%BA%94%E6%97%A5%E8%A1%8C/">
										摩尔曼斯克五日行
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E5%8A%9F%E7%8E%87%E4%B8%8E%E8%A1%B0%E5%8F%98%E5%8A%9F%E7%8E%87/">
										核反应堆功率与衰变功率
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title">

	1.基础知识
</h1>
<div class="article-meta">
	
	<span>Chzhan Yeb</span>
	<span>2021-03-21 20:34:08</span>
		<div id="article-categories">
    
		<span>Categories：</span>
            
    

    
		<span>Tags：</span>
            
    
		</div>

</div>

<div id="article-content">
	<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">类别</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">英文字母</td>
<td>A-Za-z</td>
</tr>
<tr>
<td style="text-align:left">数字</td>
<td>0-9</td>
</tr>
<tr>
<td style="text-align:left">22个特殊字符</td>
<td><code>:=+*/(),.&#39;&quot;!%&amp;;&lt;&gt;?$_</code>以及空格</td>
</tr>
</tbody>
</table>
</div>
<p>编译器默认大写，大小写不区分。</p>
<p><strong>注意：</strong></p>
<ul>
<li>“$”和“?”号在程序中没有确切意义</li>
<li>在F77语句中不区分大小写字母，其它变量名和函数名中，大、小写字母也是等价的。</li>
</ul>
<h3 id="书面格式"><a href="#书面格式" class="headerlink" title="书面格式"></a>书面格式</h3><p><strong>Free Fortran (自由格式)</strong> 和 <strong>Fixed Format (固定格式)</strong>.</p>
<p>固定格式是Fortran77的写法，有很多限制，通常后缀为<code>.f</code>或者<code>.for</code>.</p>
<h4 id="Fixed-Format"><a href="#Fixed-Format" class="headerlink" title="Fixed Format"></a>Fixed Format</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">每行的第几个字符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">第1个字符</td>
<td style="text-align:left">如果是字母<code>C</code>,<code>c</code>或星号<code>*</code>，这一行的文本就会当作注释，不会被编译；<br>如果在第一列上出现的不是数字、空格或C和*的字符，编译时按出错处理。</td>
</tr>
<tr>
<td style="text-align:left">标号区：第1-5个字符</td>
<td style="text-align:left">可以写l至5位整数。也可以没有标号。<br/>    标号区中的空格不起作用。<br/>标号应是无符号整数(无正负号或小数点)。<br/>如果是数字，就是这一行代码的代号，否则只能是空格</td>
</tr>
<tr>
<td style="text-align:left">续行区：第6个字符</td>
<td style="text-align:left">如果是<code>0</code>和空格以外的任何字符，表示这一行会接续上一行。<br/>F77允许一个语句有19个续行(即一个语句最多可以写成20行)。</td>
</tr>
<tr>
<td style="text-align:left">语句区：第7-72个字符</td>
<td style="text-align:left">fortran程序的编写区域。<br/>可以从第7列以后（72列以前）的任何一列开始写，但一行只能写一个语句。<br/>超出语句区的字符会引起难以排查、意料不到的错误。<br/><br/>PS：引号内的字符串中所包括的空格是有效的，不能忽略。</td>
</tr>
<tr>
<td style="text-align:left">注释区：第73-80个字符</td>
<td style="text-align:left">不使用超出部分会被忽略<br/>PS：在卡片输入法时代，程序员利用此区查找程序行。</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Free-Format"><a href="#Free-Format" class="headerlink" title="Free Format"></a>Free Format</h4><p>自由格式是Fortran90之后的写法。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>组成</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>行</td>
<td>每行可以编写132个字符<br/>可以有复数条程序语句，语句间用分号“;”分开<br/>语句没有位置规定。</td>
</tr>
<tr>
<td>注释行</td>
<td><code>“!”</code>之后的都是注释</td>
</tr>
<tr>
<td>续行</td>
<td>允许有39个续行。<br/>在语句行最后加上续行符“&amp;”号。<br/>如果字符串跨2行以上,则在续行的开始位置也要加“&amp;”号。<br/>PS：语句的有效字符是从“&amp;”前和续行符“&amp;”之后的位置算起。</td>
</tr>
<tr>
<td>空格</td>
<td>在语句名和变量名中间不能有空格。<br/>需要空格的地方必须有一个以上空格<br/>        （GOTO和GO TO，ELSEIF和ELSE IF，END构造名 (构造名有：DO, PROGRAM, FUNCTION, MODULE, SUBROUTINE) 等有两种写法的除外）</td>
</tr>
</tbody>
</table>
</div>
<h3 id="文件扩展名"><a href="#文件扩展名" class="headerlink" title="文件扩展名"></a>文件扩展名</h3><ul>
<li>固定格式： .for 或 .f</li>
<li>自由格式： .f90</li>
</ul>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li>整数<code>INTEGER</code>：<ul>
<li>默认值为4字节（其它为1，2，8字节，Compaq Visual Fortran允许在Alpha机上使用8字节整数）。</li>
<li>第1位为O表示“正”，“1”表示“负”。</li>
<li>整数的范围是有限的：$[-2^{31},2^{31}-1]$</li>
</ul>
</li>
<li>浮点数<code>REAL</code><ul>
<li>单精度有效位数6-7，双精度有效位数15-16.</li>
<li>默认值为4字节（其它为8字节）</li>
<li>实数在内存中一律以<strong>指数形式</strong>存放，它由1)数符；(2)指数包括符号；(3)数字部分  组成</li>
<li>用4个字节(32bit)来存储时，1位存储数的符号，7位存储指数部分，24位存储数字部分。</li>
<li>如果一个数的绝对值超过此范围，就会出现“<strong>溢出</strong>”，绝对值比上界大的称为“<strong>上溢</strong>”，系统对此按数据出错处理。比下界小的称为“<strong>下溢</strong>”，大多数计算机系统将该数据按零处理。</li>
</ul>
</li>
<li>复数<code>COMPLEX</code>：<code>a+bi</code><ul>
<li>默认值为2×4字节（其它为8字节）。</li>
<li>实部与虚部用括号围起来表示：(实数，实数)。</li>
</ul>
</li>
<li>字符<code>CHARACTER</code><ul>
<li>1个字符为1字节（中文系统中为2字节）。</li>
<li>用 ‘ ‘(F90：” “)围起来的字符串。</li>
</ul>
</li>
<li>逻辑类型<code>LOGICAL</code><ul>
<li>默认值为4字节（其它为1字节）。</li>
<li>其值只能为：.TRUE.（真） 和 .FALSE.（假）。</li>
</ul>
</li>
<li>数组 <code>ARRAY</code><ul>
<li>(/常量，常量，…，常量/)。 (F90)</li>
</ul>
</li>
</ul>
<h4 id="变量命名"><a href="#变量命名" class="headerlink" title="变量命名"></a>变量命名</h4><ul>
<li><p>英文，下划线和数字，前缀必须是英文</p>
</li>
<li><p>变量长度：f77标准最起码支持 6 个字符长（也就是说超过 6 个字符理论上是可以不支持的），f90 起码支持31 个字符长</p>
</li>
<li><p>不区分大小写</p>
</li>
<li><p>变量类型:</p>
<ul>
<li>整型变量<code>INTEGER</code></li>
<li>实型变量<code>REAL</code></li>
<li>双精度变量<code>DOUBLE PRECISION</code></li>
<li>复型变量<code>COMPLEX</code></li>
<li>逻辑型变量<code>LOGICAL</code></li>
<li>字符型变量<code>CHARACTER</code></li>
</ul>
</li>
<li><p>隐含约定:</p>
<ul>
<li>凡以<strong>字母I，J，K，L，M，N六个字母开头</strong>的变量名，如无另外说明则为<strong>整型变量</strong>。(“I—N规则”)</li>
<li>以其它字母开头的变量为实型变量。</li>
</ul>
</li>
<li><p>类型指定：</p>
<ul>
<li>用类型说明语句专门指定某些变量的类型。</li>
<li>六个类型说明语句：<ul>
<li>INTEGER语句（整型说明语句）</li>
<li>REAL语句（实型说明语句）</li>
<li>DOUBLE PRECISION语句（双精度说明语句）</li>
<li>COMPLEX语句（复型说明语句）</li>
<li>LOGICAL语句（逻辑型说明语句）</li>
<li>CHARACTER语句（字符型说明语句）</li>
</ul>
</li>
</ul>
</li>
<li><p>IMPLICIT语句（隐含说明语句）指定：</p>
<ul>
<li><p>可以用<code>IMPLICIT</code>语句将某一字母开头的全部变量指定为所需的类型，还可以用一个IMPLICIT语句同时指定几种类型</p>
</li>
<li><p>例子：</p>
<pre><code class="lang-fortran">IMPLICIT INTEGER (A，C，T-V)
IMPLICIT REAL (I，J)
IMPLICIT INTEGER (A，B)，REAL(I,K)，INTEGER (X-Z)
</code></pre>
</li>
</ul>
</li>
</ul>
<p>PS:</p>
<ul>
<li>类型说明语句最优先，IMPLICIT语句次之，“I—N规则”的隐含约定级别最低。</li>
<li>类型说明语句和IMPLICIT语句是<strong>非执行语句</strong></li>
<li>类型说明只在本程序单位内有效</li>
<li>IMPLICIT语句和类型说明语句应该出现在本程序单位中的所有执行语句之前，其中IMPLICIT语句又应在所有的类型说明语句之前。</li>
</ul>
<h3 id="算数表达式"><a href="#算数表达式" class="headerlink" title="算数表达式"></a>算数表达式</h3><ul>
<li><code>+-*/</code>四则运算</li>
<li><code>**</code>幂运算，两个星号必须连续</li>
<li><code>()</code>括号表示运算优先级:<ul>
<li>① 括号 &gt; ② 函数 &gt; ③ <em>* &gt; ④ </em> / &gt; ⑤ ＋ －</li>
<li>同一优先级的两个运算，乘方按“先右后左”，其它按“先左后右”原则</li>
</ul>
</li>
<li><strong>算术表达式</strong>中各运算元素都是算术量，使用的运算符只能是算术运算符，表达式的值也是一个算术量(即数值)。<ul>
<li>由于用“/”号作为除号，因此在写除法运算式子时应加上必要的括号。</li>
<li>乘号不能省略，如 $ asin(x)$，必须写成A*SIN(X)，而不能写成ASIN(X)。</li>
<li>Fortran中无大、中、小括号之分，一律用小括号。</li>
<li>对单项运算符 (如-A中的符号) 相当于在它前面有一个运算量“0”，如：$－A<strong>2$ 相当于 $0-A</strong>2$ 而非 $(-A)**2$。</li>
</ul>
</li>
<li>表达式运算中的类型:<ul>
<li>同类型的算术量之间运算的结果仍保持原类型。<ul>
<li>两个整数相除的商也是整数</li>
</ul>
</li>
<li>如果参加运算的两个算术量为不同类型，则编译系统会自动将它们转换成同一类型后进行运算。<ul>
<li>规律：将低级类型转换成高级类型</li>
<li>整型(低)→实型(高)</li>
<li>类型的转换是从左向右进行的，在遇到不同类型的算术量时才进行转换</li>
</ul>
</li>
</ul>
</li>
<li>误差:<ul>
<li>整数无误差，但实数有（由于位数限制）</li>
<li>在写表达式时应尽量使每一次运算结果都在有效位数范围之内，尽量不要使两个相差很大的数值直接相加或相减。</li>
<li>在判断两个实数是否相等时，要特别慎重，最好改为判断　$|Ａ－Ｂ|\leq\epsilon$，即A和B之差的绝对值如果小于 $\epsilon$ ($\epsilon$ 为一个很小的数，如10-10)，则认为A和B相等</li>
</ul>
</li>
</ul>
<h3 id="内在函数"><a href="#内在函数" class="headerlink" title="内在函数"></a>内在函数</h3><div class="table-container">
<table>
<thead>
<tr>
<th>函数名</th>
<th>含 义</th>
<th>应用例子</th>
<th>相当数学上的运算</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABS</td>
<td>求绝对值</td>
<td>ABS(X)</td>
<td>$</td>
<td>x</td>
<td>$</td>
</tr>
<tr>
<td>EXP</td>
<td>指数运算</td>
<td>EXP(X)</td>
<td>$exp(x)$</td>
</tr>
<tr>
<td>SIN</td>
<td>正弦值</td>
<td>SIN(X)</td>
<td>$sin(x)$</td>
</tr>
<tr>
<td>COS</td>
<td>余弦值</td>
<td>COS(X)</td>
<td>$cos(x)$</td>
</tr>
<tr>
<td>ASIN</td>
<td>反正弦</td>
<td>ASIN(X)</td>
<td>$arcsin(x)$</td>
</tr>
<tr>
<td>ACOS</td>
<td>反余弦</td>
<td>ACOS(X)</td>
<td>$arccos(x)$</td>
</tr>
<tr>
<td>TAN</td>
<td>正切</td>
<td>TAN(X)</td>
<td>$tan(x)$</td>
</tr>
<tr>
<td>ATAN</td>
<td>反正切</td>
<td>ATAN(X)</td>
<td>$arctan(x)$</td>
</tr>
<tr>
<td>LOG</td>
<td>自然对数</td>
<td>ALOG(X)</td>
<td>$ln(x)$</td>
</tr>
<tr>
<td>LOG10</td>
<td>常用对数</td>
<td>ALOG10(X)</td>
<td>$\log_{10}(x)$</td>
</tr>
<tr>
<td>INT</td>
<td>取整</td>
<td>INT(X)</td>
<td>$int(x)$，取$x$的整数部分</td>
</tr>
<tr>
<td>MOD</td>
<td>求余</td>
<td>MOD(X1，X2)</td>
<td>$x-int(x_1/x_2)\cdot x_2$</td>
</tr>
<tr>
<td>SIGN</td>
<td>求符号</td>
<td>SIGN(Xl，X2)</td>
<td>$</td>
<td>x_1</td>
<td>$ 或 $-</td>
<td>x_2</td>
<td>$</td>
</tr>
<tr>
<td>REAL</td>
<td>转换为实型</td>
<td>REAL(I)</td>
<td></td>
</tr>
<tr>
<td>MAX</td>
<td>求最大值</td>
<td>MAX0(I1，I2，I3)</td>
<td>$max(i_1,i_2,i_3)$</td>
</tr>
<tr>
<td>MIN</td>
<td>求最小值</td>
<td>MIN(Xl，X2，X3)</td>
<td>$min(i_1,i_2,i_3)$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="执行方法"><a href="#执行方法" class="headerlink" title="执行方法:"></a>执行方法:</h4><p>Fortran将这些内在函数分别编成单个子程序，组成函数库，存在于外部介质(如磁盘)上。</p>
<p>在完成源程序的编译之后，用LINK命令实现连接，即将已翻译成二进制指令的目标程序与函数库连接。也就是将程序中出现函数名的地方用函数库中相应的一组指令代入之，组成一个统一的“可执行目标块”。</p>
<h4 id="函数名分为“通用名”和“专用名”"><a href="#函数名分为“通用名”和“专用名”" class="headerlink" title="函数名分为“通用名”和“专用名”"></a>函数名分为“通用名”和“专用名”</h4><p>例如求余函数的“通用名”为MOD，“专用名”有三个(MOD，AMOD，DMOD)。根据自变量的类型就自动确定了函数值的类型，如MOD(8,3)的值为整型，而MOD(8.0,3.0)的值为实型。当调用子程序时如果用内在函数作为自变量(实参)，必须使用该内在函数的专用名。</p>

</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2021/03/22/1.3%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  1.3动量守恒
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2021/03/15/%E6%91%A9%E5%B0%94%E6%9B%BC%E6%96%AF%E5%85%8B%E4%BA%94%E6%97%A5%E8%A1%8C/">
                摩尔曼斯克五日行
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>




<script>
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©2021-<span id="footerYear"></span> 
	<a href="/">Chzhan Yeb</a> 
	
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//github.com/wujun234" target="_blank">WuJun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>