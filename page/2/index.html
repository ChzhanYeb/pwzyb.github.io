<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="尼古拉斯冰的笔记">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="尼古拉斯冰的笔记">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Chzhan Yeb">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>尼古拉斯冰的笔记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">尼古拉斯冰的笔记</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/28/%E5%A3%B0%E5%AD%A6/%E5%8F%8D%E5%BA%94%E5%A0%86%E7%9B%B8%E5%85%B3/1-3%E5%B0%8F%E6%B5%81%E9%87%8F%E6%8C%AF%E8%8D%A1%E5%9C%A8%E9%A2%84%E8%92%B8%E6%B1%BD%E5%8F%91%E7%94%9F%E5%85%83%E4%BB%B6%E4%B8%AD%E7%9A%84%E4%BC%A0%E6%92%AD%E9%80%9F%E5%BA%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/28/%E5%A3%B0%E5%AD%A6/%E5%8F%8D%E5%BA%94%E5%A0%86%E7%9B%B8%E5%85%B3/1-3%E5%B0%8F%E6%B5%81%E9%87%8F%E6%8C%AF%E8%8D%A1%E5%9C%A8%E9%A2%84%E8%92%B8%E6%B1%BD%E5%8F%91%E7%94%9F%E5%85%83%E4%BB%B6%E4%B8%AD%E7%9A%84%E4%BC%A0%E6%92%AD%E9%80%9F%E5%BA%A6/" class="post-title-link" itemprop="url">1.3小流量振荡在预蒸汽发生元件中的传播速度</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-03-28 08:39:01 / Modified: 13:52:58" itemprop="dateCreated datePublished" datetime="2021-03-28T08:39:01+03:00">2021-03-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="滑移速度（Коэффициент-Проскальзывания）"><a href="#滑移速度（Коэффициент-Проскальзывания）" class="headerlink" title="滑移速度（Коэффициент Проскальзывания）"></a>滑移速度（<strong>Коэффициент Проскальзывания</strong>）</h3><p>热力学方法基于连续的连续模型，而不考虑其内部结构。对于运动的介质，假定<strong>所有组件均以相同的速度运动</strong>。但是，在实际的循环系统中，水（<script type="math/tex">W_{\mathrm{в}}</script>）和蒸汽（<script type="math/tex">W_{\mathrm{п}}</script>）的速度之间存在差异：</p>
<script type="math/tex; mode=display">
S=\frac{W_{\mathrm{П}}}{W_{\mathrm{В}}}</script><h3 id="声速计算"><a href="#声速计算" class="headerlink" title="声速计算"></a>声速计算</h3><p>基于公式</p>
<script type="math/tex; mode=display">
a=\sqrt{\frac{k \cdot p}{p}}</script><p>对于两相介质在管道内的一位运动问题，可得</p>
<script type="math/tex; mode=display">
a_{дф}=\sqrt{\frac{k \cdot p}{x \cdot \rho \cdot\left(1+\frac{1-x}{x} \cdot \frac{W_{\mathrm{В}}}{W_{\mathrm{П}}}\right)}}</script><p>对于可逆的平衡过程，等熵指数 <script type="math/tex">k</script> 可以确定热力学声速。由于热交换器中两相流流动不平衡，且不平衡取决于多种因素：介质的分散程度，速度场不均匀分布，相速差异等。由此，声速公式可写为</p>
<script type="math/tex; mode=display">
a_{I I \text { дф }}=\sqrt{\frac{v^{\prime} \cdot(1-x)+v^{\prime \prime} \cdot x}{\left[\left(\frac{\partial v}{\partial p}\right)_{S}^{\primeдф} \cdot(1-x)+\left(\frac{\partial v}{\partial p}\right)_{S}^{\prime \primeдф} \cdot x\right] \cdot x \cdot \rho \cdot\left(1+\frac{1-x}{x} \cdot \frac{W_{\mathrm{B}}}{W_{\mathrm{n}}}\right)}}\\
和\\
a_{I I \text { дф }}=\sqrt{\frac{v^{\prime} \cdot(1-x)+v^{\prime \prime} \cdot x}{\left[\left(\frac{\partial v}{\partial p}\right)_{S}^{\primeоф} \cdot(1-x)+\left(\frac{\partial v}{\partial p}\right)_{S}^{\prime \primeоф} \cdot x\right] \cdot x \cdot \rho \cdot\left(1+\frac{1-x}{x} \cdot \frac{W_{\mathrm{B}}}{W_{\mathrm{n}}}\right)}}</script><p>上式可以确定小振荡的传播速度，但只能<strong>在循环系统的有限区域内确定，其中两相流的参数没有变化，或者在这些情况下这些变化可以忽略不计的情况下</strong>。</p>
<h3 id="“质量弹簧”模型"><a href="#“质量弹簧”模型" class="headerlink" title="“质量弹簧”模型"></a>“质量弹簧”模型</h3><p>“质量弹簧”模型用于研究蒸汽发生管道的自激振荡。经实验表明，该自激振荡形式接近于<strong>正弦波</strong>。对于预热段和蒸汽生成段，可用电气模型来表示。</p>
<p>其中，该模由<strong>由串联连接的电容（弹簧柔量）C，电感L（质量m）和电阻R组成</strong>。</p>
<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/28/%E5%A3%B0%E5%AD%A6/%E5%8F%8D%E5%BA%94%E5%A0%86%E7%9B%B8%E5%85%B3/1-3%E5%B0%8F%E6%B5%81%E9%87%8F%E6%8C%AF%E8%8D%A1%E5%9C%A8%E9%A2%84%E8%92%B8%E6%B1%BD%E5%8F%91%E7%94%9F%E5%85%83%E4%BB%B6%E4%B8%AD%E7%9A%84%E4%BC%A0%E6%92%AD%E9%80%9F%E5%BA%A6//蒸汽生成管道.png">
</div>

<center>图1.蒸汽生成管道</center>

<p>利用<strong>能量法</strong>可以确定压力振荡在两相介质中的传播速度。</p>
<p>而对于电气模型，需要知道以下知识：</p>
<ul>
<li><script type="math/tex; mode=display">Z_{вх}=R_{вх}+jx_{вх}</script></li>
<li><script type="math/tex; mode=display">R_{вх}=R</script></li>
<li><script type="math/tex; mode=display">x_{вх}=ωL-\frac{1}{ωC}</script></li>
</ul>
<p>对于电感和电容的比值:</p>
<ul>
<li><p>$x<em>{L}&gt;x</em>{C}$ , 当 $x_{вх}&gt;0$ — 输入电阻的电抗成分是电感性的</p>
<ul>
<li>对于该情况流速落后于施加的压力头，按角度为<script type="math/tex; mode=display">
\varphi=\operatorname{arctg} \frac{x_{L}-x_{C}}{R}</script></li>
</ul>
</li>
<li><p>$x<em>{L}&lt;x</em>{C}$ , 当 $x_{вх}&lt;0$ — 电容性的</p>
<ul>
<li>对于该情况流速快于施加的压力头，角度同上</li>
</ul>
</li>
<li><p>$x<em>{L}=x</em>{C}$ , 当 $x_{вх}=0$ — 等于零</p>
<ul>
<li>对于这种情况，流动状态为<strong>共振</strong></li>
</ul>
</li>
</ul>
<h3 id="共振"><a href="#共振" class="headerlink" title="共振"></a>共振</h3><p>电路输入阻抗为</p>
<script type="math/tex; mode=display">
Z_{\mathrm{вх р}}=R</script><p>压力振幅为</p>
<script type="math/tex; mode=display">
\Delta p_{x p}=\Delta p_{L p}-\Delta p_{C p}=0</script><p>管道中压力与流速之间的相位移 $φ=0$ 。有效压力头可用以下公式确认</p>
<script type="math/tex; mode=display">
p=w_{vp}R</script><p>在已知声质和声容得情况下，可按以下公式确定频率：</p>
<script type="math/tex; mode=display">
x_{\mathrm{вх}}=\omega_{0} \cdot m-\frac{1}{\omega_{0} \cdot C}=0</script><p>由此可得</p>
<script type="math/tex; mode=display">
\omega_{0}=\frac{1}{\sqrt{m \cdot C}}\\
f_{0}=\frac{\omega_{0}}{2 \cdot \pi}=\frac{1}{2 \cdot \pi \cdot \sqrt{m \cdot C}}\\
\lambda=\frac{a}{f_{0}}=2 \cdot \pi \cdot a \cdot \sqrt{m \cdot C}</script><p>其中，$x_{вх}=0$ 时的频率称之为 <strong>液压回路的谐振频率</strong>。</p>
<p>在调谐回路</p>
<script type="math/tex; mode=display">
\omega_{0} \cdot m=\frac{1}{\omega_{0} \cdot C}=\frac{\Delta\left(\Delta p_{k}\right)}{\Delta W_{v p}}=\sqrt{\frac{m}{C}}</script><p>其中，$\Delta\left(\Delta p<em>{k}\right)$ 是管道内的压降幅度；$\Delta W</em>{v p}$ 是体积流速的幅度。</p>
<p>令值 $R_{d}=\sqrt{\frac{m}{C}}=\frac{d\Delta p}{d W}$ ，该值被成为<strong>特性阻抗</strong>（<strong>Характеристическое Сопротивление</strong>），简称为 <strong>振荡回路特征</strong>（原文如此）</p>
<h3 id="动能与势能（Кинетическая-и-Потенциальной-Энергия）"><a href="#动能与势能（Кинетическая-и-Потенциальной-Энергия）" class="headerlink" title="动能与势能（Кинетическая и Потенциальной Энергия）"></a>动能与势能（<strong>Кинетическая и Потенциальной Энергия</strong>）</h3><p>动能、势能最大值公式</p>
<script type="math/tex; mode=display">
E_{т p \text { max }}=m \cdot \Delta W_{v p}^{2} / 2\\
E_{с p \max }=C \cdot \Delta\left(\Delta p_{k}\right)^{2} / 2</script><p>而</p>
<script type="math/tex; mode=display">
\left[\frac{\Delta\left(\Delta p_{k}\right)}{\Delta W_{v p}}\right]^{2}=\frac{m}{C}</script><p>带入得</p>
<script type="math/tex; mode=display">
E_{т p \text { max }}=E_{с p \text { max }}=E</script><p>由此可得出结论，<strong>动能和势能的最大存储量相等</strong>。</p>
<p>对于动能与势能的瞬时值（мгновенные значени）</p>
<script type="math/tex; mode=display">
e_{т p}+e_{с p}=\frac{m \cdot \Delta W_{v p}^{2}}{2} \cdot \cos ^{2} \omega_{0} t+\frac{c \Delta\left(\Delta p_{k}\right)^{2}}{2} \sin ^{2} \omega_{0} t</script><p>由于 <script type="math/tex">\frac{m \cdot \Delta W_{v p}^{2}}{2}=\frac{c \Delta\left(\Delta p_{k}\right)^{2}}{2}</script> </p>
<script type="math/tex; mode=display">
e_{т p}+e_{с p}=e</script><p>由此可知，在任何时刻，动能和势能之和等于恒定值。这表明，<strong>在共振模式下，流动介质的动能与势能相互转换，而压降源不参与动能与势能的存储过程。</strong>这意味着，在实际工程当中，泵仅起到提供电阻R消耗的有功功率。</p>
<h3 id="失谐电路"><a href="#失谐电路" class="headerlink" title="失谐电路"></a>失谐电路</h3><p>对于失谐电路，$E<em>{т p \text { max }}\neq E</em>{с p \max }$ ，输入电阻的无功分量不为零。</p>
<script type="math/tex; mode=display">
x_{\mathrm{вх}}=\frac{2 \cdot \omega \cdot E_{x}}{W_{v}^{2}}</script><p>其中，</p>
<script type="math/tex; mode=display">
E_{x}=E_{т\max}-E_{с\max}</script><p>存储在流体中的一部分能量 $E<em>{x}$ ，如果 $E</em>{x}&gt;0$ ，则是以动能的形式；如果 $E_{x}&lt;0$ ，则以势能的形式，并最终返回到泵当中。</p>
<h3 id="系统的水力特性方程"><a href="#系统的水力特性方程" class="headerlink" title="系统的水力特性方程"></a>系统的水力特性方程</h3><script type="math/tex; mode=display">
\Delta P=A_{1} W_{v}^{3}-B_{1} W_{v}^{2}+C_{1} W_{v}</script><p>其中，A，B，C 为系数。</p>
<p>$R<em>{d},x</em>{т},x_{с}$ 的表达式由此可以推导出</p>
<script type="math/tex; mode=display">
x_{т}=x_{с}=R_{d}=3 A_{1} W_{v}^{2}-2B_{1} W_{v}+C_{1}x_{т}=x_{с}=</script><p>在研究粘性（牛顿）流体的非定常运动时，通常假定为定常运动建立的阻力保持不变，且摩擦头损失的阻力系数对雷诺数和相对粗糙度的依赖性假定与定常运动相同（准平稳性假设）。</p>
<p>假定长剂量管道中介质在一定剂量的声波流速下的运动方式是等温的；由于所考虑的介质振荡很小，因此忽略了较高的速度，速度梯度和密度变化。</p>
<p>对于预热段，在已知长度和运动介质密度情况下，可求得声学质量和声柔：</p>
<script type="math/tex; mode=display">
m=\frac{\rho_{\text {эк }} \cdot l_{\text {эк }}}{\frac{\pi \cdot d^{2}}{4}}</script><script type="math/tex; mode=display">
C=\frac{\pi \cdot d^{2}}{4} \cdot \frac{l-l_{\text {эк }}}{\rho_{\mathrm{см}} \cdot a^{2}}</script><p>由此可得到小压力波动在管状蒸汽发生元件的两相部分中传播的积分速度</p>
<script type="math/tex; mode=display">
a^{2}=\left(\frac{\pi \cdot d^{2}}{4}\right)^{2} \frac{\left(3 \cdot A_{1} \cdot W_{v}^{2}-2 \cdot B_{1} \cdot W_{v}+C_{1}\right)^{2} \cdot\left(l-l_{\text {эк }}\right)}{\rho_{\text {см }} \cdot \rho_{\text {эк }} \cdot l_{\text {эк }}}</script><p>水力特性方程系数</p>
<script type="math/tex; mode=display">
\begin{array}{c}
A_{1}=\frac{\xi_{\text {гом }} \cdot \Delta i_{\mathrm{вх}} \cdot \rho^{\prime 2}}{8 \cdot q_{s} \cdot F_{\mathrm{B}}^{3}}\left\{1-\bar{\Psi}\left[1-\frac{\Delta i_{\mathrm{вх}}}{2 \cdot r}\left(\frac{\rho^{\prime}}{\rho^{\prime \prime}}-1\right)\right]\right\} \\
B_{1}=\frac{\bar{\Psi} \cdot \rho^{\prime}}{2 \cdot F_{B}}\left(\frac{\xi_{\text {гом }} \cdot l}{d_{\mathrm{r}}}+\xi_{M}\right)\left[\frac{\Delta i_{вх}}{r}\left(\frac{\rho^{\prime}}{\rho^{\prime \prime}}-1\right)-1\right] \\
C_{1}=\frac{\xi_{\text {гом }} \cdot l^{2} \cdot q_{S} \cdot \bar{\Psi}}{r \cdot d_{\mathrm{г}}^{2} \cdot F_{\mathrm{B}}}\left(\frac{\rho^{\prime}}{\rho^{\prime \prime}}-1\right)
\end{array}</script><p>其中，$F<em>{B}$ 是水通过的截面积。$q</em>{s}$是每单位表面的平均热通量；$Δi<em>{вх}$-通道入口处的冷却液在地板下加热；$ξ</em>{гом}$ 是均质介质的摩擦阻力系数； $\bar{\Psi}$ 是考虑到蒸汽-水流不均匀性的平均系数； $r$ 比汽化热； $d$ 为液压通道直径；$ξ<em>{м}$ 是局部电阻系数；$ρ</em>{эк}$ ，$ρ<em>{см}$-预热段的水密度和蒸汽混合物的密度；$W</em>{v}$是通道中冷却剂的体积平均速度。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B/" class="post-title-link" itemprop="url">中子的扩散过程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-26 10:03:49" itemprop="dateCreated datePublished" datetime="2021-03-26T10:03:49+03:00">2021-03-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-31 14:58:33" itemprop="dateModified" datetime="2021-03-31T14:58:33+03:00">2021-03-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="斐克定理"><a href="#斐克定理" class="headerlink" title="斐克定理"></a>斐克定理</h3><ul>
<li>从浓度高的到浓度低的扩散</li>
<li>分子扩散的速率与分子密度的梯度程正比</li>
</ul>
<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B/image-20210326103042150.png">
</div>

<center>图1.斐克定理推导示意图</center>

<p>在$dv$中，单位时间内发生散射的中子数为$ Σ_{S} \phi(r) d v $</p>
<p><strong>假设1：</strong>中子的散射是<strong>各向同性</strong>的 $dA$ 立体角所占总立体角的份额为<script type="math/tex">\frac{\cos \theta d A}{4 \pi r^{2}}</script></p>
<p>那么单位时间内在 $dV$ 中发生散射后飞向 $dA$ 的中子数为</p>
<script type="math/tex; mode=display">
Σ_{s} \phi(r) \frac{\cos \theta d A d V}{4 \pi r^{2}}</script><p>这些中子实际能到达 $dV$ 的几率为 <script type="math/tex">e^{-\Sigma_{t} r}</script>（参考宏观截面定义）</p>
<p>因此单位时间内在 $dV$ 中发生散射后能达到 $dA$ 的中子数为 </p>
<script type="math/tex; mode=display">
Σ_{s} \phi(r) e^{-\Sigma_{t} r}  \frac{\cos \theta d A d V}{4 \pi r^{2}}</script><p><strong>假设2：</strong>介质为为弱吸收，单位时间内在 $dV$ 中发生散射后能达到 $dA$ 的中子数为</p>
<script type="math/tex; mode=display">
\Sigma_{s} \phi(r) e^{-\Sigma_{s}r} \frac{\cos \theta d A d v}{4 \pi r^{2}}</script><p><strong>假设3：</strong>是无限均匀介质，那么把 $dV$ 沿着整个上半平面进行体积分，就可得到自 $x-y$ 平面上方向下穿过 $dA$ 的中子数为</p>
<script type="math/tex; mode=display">
J_{z}^{-} d A=\frac{\Sigma_{s} d A}{4 \pi} \int_{0}^{2 \pi} \int_{0}^{\pi / 2} \int_{0}^{\infty} \phi(r) e^{-\Sigma _{s}{r}} \cos \theta \sin \theta d r d \theta d \varphi</script><p><strong>假设4：</strong>中子通量密度变化是缓慢的，那么引入一阶泰勒展开</p>
<script type="math/tex; mode=display">
\phi(x, y, z)=\phi_{0}+x\left(\frac{\partial \phi}{\partial x}\right)_{0}+y\left(\frac{\partial \phi}{\partial y}\right)_{0}+z\left(\frac{\partial \phi}{\partial z}\right)_{0}\\
x=r \sin \theta \cos \varphi \quad y=r \sin \theta \sin \varphi \quad z=r \cos \theta\\
J_{z}^{-} d A=\frac{\Sigma_{s} d A}{4 \pi} \int_{0}^{2 \pi} \int_{0}^{\pi / 2} \int_{0}^{\infty} \phi(r) e^{-\Sigma _{s}{r}} \cos \theta \sin \theta d r d \theta d \varphi\\
=\frac{\phi_{0}}{4}+\frac{1}{6 \Sigma_{s}}\left(\frac{\partial \phi}{\partial z}\right)_{0}</script><p>若以 <script type="math/tex">J_{x}^{-}</script> 表示沿负 <script type="math/tex">x</script> 方向的分中子流密度，即，每秒自右方（沿负x方向）向左穿过单位面积的中子数，那么</p>
<script type="math/tex; mode=display">
J_{x}^{-}=\frac{\phi_{0}}{4}+\frac{1}{6 \Sigma_{s}}\left(\frac{\partial \phi}{\partial x}\right)_{0} \\
J_{x}^{+}=\frac{\phi_{0}}{4}-\frac{1}{6 \Sigma_{s}}\left(\frac{\partial \phi}{\partial x}\right)_{0} \\
J_{x}=J_{x}^{+}-J_{x}^{-}=-\frac{\lambda_{s}}{3}\left(\frac{\partial \phi}{\partial x}\right)_{0}</script><p>同理</p>
<script type="math/tex; mode=display">
J_{y}=J_{y}^{+}-J_{y}^{-}=-\frac{\lambda_{s}}{3}\left(\frac{\partial \phi}{\partial y}\right)_{0}</script><script type="math/tex; mode=display">
J_{z}=J_{z}^{+}-J_{z}^{-}=-\frac{\lambda_{s}}{3}\left(\frac{\partial \phi}{\partial z}\right)_{0}</script><p>注意：</p>
<ul>
<li>中子通量密度 <script type="math/tex">Φ</script> 描述通过单位面积单位时间的中子数，没有方向概念</li>
<li>中子流密度 <script type="math/tex">J</script> 描述通过单位时间单位密度沿某个方向的中子数，是矢量。</li>
</ul>
<p>因此，沿任意面的净中子通量为</p>
<script type="math/tex; mode=display">
J=-\frac{\lambda_{\mathrm{s}}}{3}\left[\frac{\partial \phi}{\partial x} \cos \alpha+\frac{\partial \phi}{\partial y} \cos \beta+\frac{\partial \phi}{\partial z} \cos \gamma\right]</script><p>即</p>
<script type="math/tex; mode=display">
J_{n}=\boldsymbol{J}\cdot \boldsymbol{n}\\
\boldsymbol{n}=\cos \alpha \boldsymbol{i}+\cos \beta \boldsymbol{j}+\cos \gamma \boldsymbol{k} \\
\boldsymbol{J}=J_{\mathrm{x}} \boldsymbol{i}+J_{\mathrm{y}} \boldsymbol{j}+J_{z} \boldsymbol{k}=-\frac{\lambda_{\mathrm{s}}}{3} \operatorname{grad} \phi</script><h3 id="斐克定律"><a href="#斐克定律" class="headerlink" title="斐克定律"></a>斐克定律</h3><div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B/中子流密度J.png">
</div>

<center>图2.中子流密度J</center>

<p>中子流密度J正比于负的中子通量密度梯度，其比例常数叫作<strong>扩散系数</strong>，并用D表示。于是，斐克定律便可以写成</p>
<script type="math/tex; mode=display">
\boldsymbol{J}=-D \mathrm{grad} \phi</script><p>其中</p>
<script type="math/tex; mode=display">
D=\frac{\lambda_{s}}{3}</script><p>由于<strong>假设1</strong>假设中子散射是各向同性，一般情况下，不符合实际情况（只有对于<strong>重核</strong>才近似成立，请参考中子慢化的<strong>对数能降</strong>和<strong>平均散射角余弦</strong>）。因此需要引入中子输运理论进行修正。</p>
<p>用输运平均自由程 <script type="math/tex">λ_{tr}</script> 来代替散射平均自由程 <script type="math/tex">λ_{s}</script> 。斐克定律的扩散系数改为</p>
<script type="math/tex; mode=display">
D=\frac{\lambda_{tr}}{3}</script><p>其中</p>
<script type="math/tex; mode=display">
\lambda_{\mathrm{tr}}=\frac{\lambda_{\mathrm{s}}}{1-\bar{\mu}_{0}}</script><p>式中，<script type="math/tex">\bar{\mu}_{0}</script> 是实验室系统内的平均散射角余弦，且 <script type="math/tex">\bar{\mu}_{0}=\frac{2}{3A}</script> 。因此可以解释为何假设1在重核情况下近似成立。</p>
<p><strong>举例：</strong></p>
<p><img src="/.com//Users\29581\AppData\Roaming\Typora\typora-user-images\image-20210327154005402.png" alt="image-20210327154005402" style="zoom:50%;"></p>
<center>图3.非均匀中子通量密度分布形成的中子流</center>

<h3 id="单能中子扩散方程"><a href="#单能中子扩散方程" class="headerlink" title="单能中子扩散方程"></a>单能中子扩散方程</h3><p><strong>假设</strong>能量不变，只有一个能量，仅考虑空间的变化。</p>
<p><strong>中子量守恒方程：</strong></p>
<script type="math/tex; mode=display">
\frac{\mathrm{d}}{\mathrm{d} t} \int_{V} n(\boldsymbol{r}, t) \mathrm{d} V= 产生率(\mathrm{S})- 泄露率(\mathrm{L})- 吸收率(A)</script><p><strong>泄露率：</strong></p>
<script type="math/tex; mode=display">
\text { 泄漏率 }=\int_{S} \boldsymbol{J}(\boldsymbol{r}, t) \cdot \boldsymbol{n} \mathrm{d} S=\int_{V} \nabla \cdot \boldsymbol{J}(\boldsymbol{r}, t) \mathrm{d} V=\int_{V} \operatorname{div} \boldsymbol{J}(\boldsymbol{r}, t) \mathrm{d} V</script><p><strong>产生率：</strong></p>
<script type="math/tex; mode=display">
产生率=\int_{V} \mathrm{~S}(\boldsymbol{r}, t) \mathrm{d} V</script><p><strong>吸收率：</strong></p>
<script type="math/tex; mode=display">
吸收率=\int_{V} \Sigma_{\mathrm{a}} \phi(\boldsymbol{r}, t) \mathrm{d} V</script><p>由此可得到<strong>连续方程</strong>：</p>
<script type="math/tex; mode=display">
\frac{\partial n(\boldsymbol{r}, t)}{\partial t}=S(\boldsymbol{r}, t)-\Sigma_{\mathrm{a}} \phi(\boldsymbol{r}, t)-\operatorname{div} \boldsymbol{J}(\boldsymbol{r}, t)</script><p>表征单位体积（或微元）内的中子数的平衡关系。</p>
<p>泄露率项引入斐克定律，若扩散系数 <script type="math/tex">D</script> 与空间位置无关，可化简得</p>
<script type="math/tex; mode=display">
泄漏率=-D\left[\frac{\partial^{2} \phi}{\partial x^{2}}+\frac{\partial^{2} \phi}{\partial y^{2}}+\frac{\partial^{2} \phi}{\partial z^{2}}\right]=-D \nabla^{2} \phi</script><p>最终得到 <strong>单能中子扩散方程</strong></p>
<script type="math/tex; mode=display">
\frac{1}{v} \frac{\partial \phi(\boldsymbol{r}, t)}{\partial t}=S(\boldsymbol{r}, t)+D \nabla^{2} \phi(\boldsymbol{r}, t)-\Sigma_{\mathrm{a}} \phi(\boldsymbol{r}, t)</script><p>若中子通量密度<strong>不随时间变化</strong>，则可得 <strong>稳态单能中子扩散方程</strong></p>
<script type="math/tex; mode=display">
D \nabla^{2} \phi(\boldsymbol{r})-\Sigma_{\mathrm{a}} \phi(\boldsymbol{r})+S(\boldsymbol{r})=0</script><p>两个方程可用偏微分方程公式求解。</p>
<h3 id="边界条件："><a href="#边界条件：" class="headerlink" title="边界条件："></a><strong>边界条件：</strong></h3><p>几种常见的边界条件：</p>
<ol>
<li>在扩散方程适用的范围内，中子通量密度的数值必须是正的、有限的实数。</li>
<li>在两种不同扩散性质的介质交界面上，垂直于分界面的中子流密度相等，中子通量密度相等。</li>
<li>介质与真空交界的外表面上，根据物理上要求，自真空返回介质的中子流等于零。</li>
<li>反照率边界条件</li>
</ol>
<p>对于<strong>条件1</strong>，是最一般的情况，但不是所有情况都满足这个条件，因此需要该条件限制。</p>
<p>对于<strong>条件2</strong></p>
<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B/边界条件2.png">
</div>

<center>图4.在两种介质的分界面上的中子扩散</center>

<script type="math/tex; mode=display">
\left.J_{x}^{+}\right|_{A}=\left.J_{x}^{+}\right|_{B}\\
\left.J_{x}^{-}\right|_{A}=\left.J_{x}^{-}\right|_{B}\\
\left.D_{A} \frac{\mathrm{d} \phi}{\mathrm{d} x}\right|_{A}=\left.D_{B} \frac{\mathrm{d} \phi}{\mathrm{d} x}\right|_{B}\\
\phi_{A}=\phi_{B}</script><p>对于<strong>条件3</strong>，中子只能出不能进（外界没有中子碰撞反弹回来）</p>
<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B/边界条件3.png">
</div>


<center>图5.应用输运理论和扩散理论的外推距离求得的扩散方程的解</center>

<script type="math/tex; mode=display">
\left.J_{x}^{-}\right|_{x=0}=\frac{\phi_{0}}{4}+\left.\frac{\lambda_{\mathrm{tr}}}{6} \frac{\mathrm{d} \phi}{\mathrm{d} x}\right|_{x=0}=0</script><p>即</p>
<script type="math/tex; mode=display">
\left.\frac{\mathrm{d} \phi}{\mathrm{d} x}\right|_{x=0}=-\frac{3 \phi_{0}}{2 \lambda_{\mathrm{tr}}}=\frac{\phi_{0}}{ d}</script><p>其中</p>
<script type="math/tex; mode=display">
d=\frac{2}{3} \lambda_{\mathrm{tr}}</script><script type="math/tex; mode=display">d$$ 被称为**直线外推距离**。该值是从扩散理论求出的。按照更精确的中子输运理论，对于平面边界的情况，可求得</script><p>d=0.7104 \lambda_{\mathrm{tr}}</p>
<script type="math/tex; mode=display">
更严格来讲，外推距离 $$d$$ 与表面曲率半径有关。对于曲率较小的表面，可以用上述近似。因此，自由外表面（真空边界）的边界条件可以用更简单的形式表示：

**在自由表面外推距离 $$d$$ 处，中子通量密度等于零。**

对于**条件4**，

<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B//边界条件4.png"></img>
</div>


<center>图6.反射情况</center></script><p>\left.J^{-x}\right|<em>{\Gamma}=\left.\beta J^{+x}\right|</em>{\Gamma}</p>
<script type="math/tex; mode=display">

$$β$$ 被称为**反射率**，根据斐克定律，可写出以下关系式</script><p>\beta=\frac{J^{-}}{J^{+}}=\frac{\frac{\phi}{4}+\frac{D}{2} \frac{d \phi}{d x}}{\frac{\phi}{4}-\frac{D}{2} \frac{d \phi}{d x}}=\frac{1+\frac{2 D}{\phi} \frac{d \phi}{d x}}{1-\frac{2 D}{\phi} \frac{d \phi}{d x}}</p>
<script type="math/tex; mode=display">
对于**无限平板反射层**，反射层内的中子通量密度分布为</script><p>\phi=C \mathrm{e}^{-x / L}</p>
<script type="math/tex; mode=display">
反照率 $$β_{∞}</script><script type="math/tex; mode=display">
\beta_{\infty}=\frac{1-\frac{2 D}{L}}{1+\frac{2 D}{L}}</script><p>对于有限厚度的反射层，</p>
<script type="math/tex; mode=display">
\beta=\frac{1-\frac{2 D}{L} \operatorname{coth}\left(\frac{a}{L}\right)}{1+\frac{2 D}{L} \operatorname{coth}\left(\frac{a}{L}\right)}</script><p>其中，<script type="math/tex">a</script> 表示反射层厚度。实际上，当 <script type="math/tex">a/L>3</script> 时，反射率与无限厚的情况相差不多。</p>
<p>反照率不仅取决于<strong>反射介质的材料特性</strong>，而且还取决于<strong>系统的尺寸和几何形状</strong>，反照率随几何形状的不同而改变。</p>
<p>当 <script type="math/tex">β=0</script> ，没有一个返回的情况，对应于真空边界条件</p>
<p>当 <script type="math/tex">β=1</script> ，出去的全都回来，该条件称为 <strong>反射全对称边界条件</strong> 。</p>
<p>一般情况下，<script type="math/tex">β</script> 介于0和1之间。</p>
<p>在工程模拟计算上，该条件适用于编程。</p>
<h3 id="扩散方程适用范围"><a href="#扩散方程适用范围" class="headerlink" title="扩散方程适用范围"></a>扩散方程适用范围</h3><p>注意假设条件</p>
<p>距真空边界，两三个自由程内不能使用扩散方程（不符合无限均匀介质假设）。（实际上工程仍会使用，会比实际偏大，但该误差还是复合工程安全条件）</p>
<p>强吸收体（如，控制棒）附近不能使用（不符合介质为弱吸收假设）（实际上还是会使用，会偏大）</p>
<p>距离中子源两三个平均自由程内不能使用（不符合假设通量变化缓慢）</p>
<p>反应堆物理所计算的通量分布和反应性的大小，跟实验测量的数据非常吻合，误差小于10%（热工的误差一般在2%-30% ）</p>
<p>PS：由于反应堆物理相关计算是从微观推导到宏观，计算非常精确，除了个别几个现象，其余基本无需做实验。</p>
<h3 id="扩散长度、慢化长度和徙动长度"><a href="#扩散长度、慢化长度和徙动长度" class="headerlink" title="扩散长度、慢化长度和徙动长度"></a>扩散长度、慢化长度和徙动长度</h3><h4 id="扩散长度："><a href="#扩散长度：" class="headerlink" title="扩散长度："></a>扩散长度：</h4><script type="math/tex; mode=display">
L^{2}=\frac{D}{\Sigma_{\mathrm{a}}}=\frac{\lambda_{\mathrm{a}} \lambda_{\mathrm{tr}}}{3}=\frac{\lambda_{\mathrm{a}} \lambda_{\mathrm{s}}}{3\left(1-\bar{\mu}_{0}\right)}=\frac{1}{3 \Sigma_{\mathrm{a}} \Sigma_{\mathrm{s}}\left(1-\bar{\mu}_{0}\right)}</script><p> 物理含义：在无限介质内点源的情况下，扩散长度的平方等于热中子从产生地点到被吸收地点穿行的直线距离均方值的六分之一。</p>
<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B//点源空间二次矩的计算.png">
</div>


<center>图7.点源空间二次矩的计算</center>

<script type="math/tex; mode=display">
\overline{r^{2}}=\frac{\int_{0}^{\infty} r^{2}\left(4 \pi r^{2} \Sigma_{\mathrm{a}} \phi(r)\right) \mathrm{d} r}{\int_{0}^{\infty} 4 \pi r^{2} \Sigma_{\mathrm{a}} \phi(r) \mathrm{d} r}=\frac{\int_{0}^{\infty} r^{3} \mathrm{e}^{-r / L} \mathrm{~d} r}{\int_{0}^{\infty} r \mathrm{e}^{-r / L} \mathrm{~d} r}=6L^{2}</script><p>即</p>
<script type="math/tex; mode=display">
L^{2}=\frac{1}{6}\overline{r^{2}}</script><p>扩散长度L的大小将影响反应堆内热中子的泄漏。L愈大，则热中子自产生地点到被吸收地点所移动的平均距离也愈大，因而热中子泄漏到反应堆外的几率也就愈大。（该值越小越好）</p>
<h4 id="慢化长度（热中子年龄）"><a href="#慢化长度（热中子年龄）" class="headerlink" title="慢化长度（热中子年龄）"></a>慢化长度（热中子年龄）</h4><div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B//慢化长度.png">
</div>


<center>图8.慢化长度能量变化图示</center>

<p>在 <script type="math/tex">E_0</script> 到 <script type="math/tex">E_{th}</script> 的中子称为<strong>快群中子</strong>。在 <script type="math/tex">E_{th}</script> 以下的中子称为<strong>热群中子</strong>。</p>
<p>快中子和热中子之间有个能量分界线，这个能量称为<strong>分界能量</strong>或者<strong>逢合能</strong>，用 <script type="math/tex">E_{th}</script> 表示，一般大小在 <script type="math/tex">1eV</script> 左右。</p>
<ul>
<li><p>单位时间单位体积内快中子与原子核发生散射的次数为 <script type="math/tex">Σ_ { s } \phi _ { 1 } ( r )</script> </p>
</li>
<li><p>一个源中子从初始能量 <script type="math/tex">E_{0}</script> 慢化到 <script type="math/tex">E_{th}</script> 以下需要的平均碰撞次数为 <script type="math/tex">\ln \left(E_{0} / E_{t h}\right) / \xi</script></p>
</li>
<li><p>定义移出截面 <script type="math/tex">Σ_{1}</script> ，表示从快中子变为热中子的概率。则，单位时间单位体积内慢化为热中子的数量为 <script type="math/tex">Σ_ {1} \phi _ { 1 } ( r )</script> </p>
<script type="math/tex; mode=display">
\Sigma_{1} \phi_{1}(r)=\frac{\Sigma_{s} \phi_{1}}{\frac{1}{\xi} \ln \frac{E_{0}}{E_{t h}}}\\
\Sigma_{1}= \frac { \xi \Sigma _ { s } } { \operatorname { ln} \frac { E _ { 0 } } { E _ { t h } } }</script></li>
</ul>
<p>类似热中子定义快中子<strong>慢化长度</strong></p>
<script type="math/tex; mode=display">
L_{1}^{2}=\frac{D_{1}}{\Sigma_{1}}=\frac{1}{3 \xi \Sigma_{s} \Sigma_{t r}} \ln \frac{E_{0}}{E_{t h}}=\int_{E_{t h}}^{E_{0}} \frac{D_{1}}{\xi \Sigma_{s}} \frac{d E}{E}=\tau_{t h}</script><p>中子年龄定义</p>
<script type="math/tex; mode=display">
\tau_{t h}=\int_{E_{t h}}^{E_{0}} \frac{D_{1}}{\xi \Sigma_{s}} \frac{d E}{E}</script><script type="math/tex; mode=display">E$$越小，$$τ$$ 越大。注意，中子年龄是长度平方的量纲。

<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B//慢化长度_物理含义.png"></img>
</div>


<center>图9.点源空间二次矩慢化长度的计算</center></script><p>r _ { s } ^ { 2 } = \frac { \int r ^ { 2 } ( 穿行r且慢化为热中子数) d x } { 总的慢化中子数}</p>
<script type="math/tex; mode=display">
</script><p>\tau<em>{t h}=\frac{1}{6} \bar{r}</em>{s}^{2}</p>
<script type="math/tex; mode=display">

物理意义：在无限介质内点源的情况下，慢化长度的平方等于快中子从产生地点到被慢化成热中子地点穿行的直线距离均方值的六分之ー。

慢化长度的大小将影响反应堆內快中子的泄漏。其值愈大，则快中子自产生地点到被慢化成热中子地点所移动的平均距离也愈大，因而快中子泄漏到反应堆外的几率也就愈大。

#### 徙动长度（又称 徙动面积）

<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/26/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%89%A9%E6%95%A3%E8%BF%87%E7%A8%8B//徙动长度计算.png"></img>
</div></script><p>M^{2}=\frac{L^{2}+τ<em>{th}}{6}=\frac{1}{6}\overline{r</em>{M}^{2}}</p>
<script type="math/tex; mode=display">

其中，</script><p>\overline{r<em>{M}^{2}}=\overline{r</em>{s}^{2}}+\overline{r<em>{d}^{2}}+2\overline{r</em>{d}r_{s}\cos{θ}}</p>
<script type="math/tex; mode=display">
由于 $$r_d$$ 和 $$r_s$$ 的方向彼此不相关，故夹角余弦 $$\cos{θ}$$ 的平均值等于零。

物理意义：徒动面积 $$M^2$$ 是中子由作为快（裂変）中子产生出来，直到它成为热中子并被吸收所穿行直线距离均方值的六分之ー。

由此可以看到，徙动长度M是影响芯部中子泄漏程度的重要参数，M愈大，则中子不泄漏几率PL便愈小。

### 中子慢化时间、扩散时间和中子寿命

#### 中子慢化时间

把裂变中子从裂变能慢化到热中子分界能 $$E_{th}$$ 所需的平均时间称为**中子慢化时间**，用 $$t_{s}$$ 表示。

假设中子的速度为 $$v$$ ，那么在 $$dt$$ 时间间隔内，中子与原子核发生的平均碰撞此说为 $$\frac{v}{λ_{s}(E)}dt$$ 。

如果平均对数能降增量为 $$ξ$$ ，那么在 $$dt$$ 时间内的对数能量增量为： $$\frac{vξ}{λ_{σ}(Ε)}dt</script><p>即</p>
<script type="math/tex; mode=display">
du=\frac{vξ}{λ_{s}(E)}dt\\
dt=-\frac{λ_{s}(E)}{vξ}\frac{dE}{E}</script><p>其中，<script type="math/tex">u=\ln{\frac{E_{0}}{E}}</script></p>
<script type="math/tex; mode=display">
\begin{aligned} t_{s} &=-\int_{E_{0}}^{E_{th}} \frac{1}{\xi v \Sigma_{s}(E)} \frac{d E}{E} \\ &=\sqrt{2} \frac{\overline{\lambda_{s}}}{\xi}\left(\frac{1}{\sqrt{E_{t h}}}-\frac{1}{\sqrt{E_{0}}}\right) \end{aligned}</script><p>由前人计算的结果可得知，<script type="math/tex">t_{s}=10^{-6}\sim10^{-4}</script> 。</p>
<h4 id="扩散时间"><a href="#扩散时间" class="headerlink" title="扩散时间"></a>扩散时间</h4><p>快中子慢化成热中子后，其扩散至吸收所需的平均时间称为<strong>中子扩散时间</strong></p>
<script type="math/tex; mode=display">
t_{d}=\frac{\lambda_{a}(E)}{v}=\frac{1}{\Sigma_{a}(E) v}=\frac{1}{\Sigma_{a}(0.0253)\times2200}</script><p>由前人计算的结果可得知，<script type="math/tex">t_{d}=10^{-4}\sim10^{-2}</script> 。</p>
<h4 id="中子寿命"><a href="#中子寿命" class="headerlink" title="中子寿命"></a>中子寿命</h4><script type="math/tex; mode=display">
l=t_{s}+t_{d}</script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/25/Fortran/4.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/25/Fortran/4.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="post-title-link" itemprop="url">4.流程控制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-25 20:05:36" itemprop="dateCreated datePublished" datetime="2021-03-25T20:05:36+03:00">2021-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-29 20:48:34" itemprop="dateModified" datetime="2021-03-29T20:48:34+03:00">2021-03-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="IF"><a href="#IF" class="headerlink" title="IF"></a><code>IF</code></h3><pre><code>if (condition) then
    ! do something
end if

if (condition) then
    ! do something
else
    ! do other
end if
</code></pre><p>逻辑运算</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>f90 符号</th>
<th>f77 符号</th>
<th>意义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code></td>
<td><code>.eq.</code></td>
<td>判断是否等于</td>
</tr>
<tr>
<td><code>/=</code></td>
<td><code>.ne.</code></td>
<td>不等于</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td><code>.gt.</code></td>
<td>大于</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td><code>.ge.</code></td>
<td>大于等于</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td><code>.lt.</code></td>
<td>小于</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td><code>.le.</code></td>
<td>小于等于</td>
</tr>
</tbody>
</table>
</div>
<p>逻辑之间的关系</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>意义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.and.</code></td>
<td>两边都<code>.true.</code>才表示<code>.true</code></td>
</tr>
<tr>
<td><code>.or.</code></td>
<td>只要有一个是<code>.true.</code>就是<code>.true.</code></td>
</tr>
<tr>
<td><code>.not.</code></td>
<td>只对一个逻辑表达式作用，取反</td>
</tr>
<tr>
<td><code>.eqv.</code></td>
<td>两边相同时，得到<code>.true.</code></td>
</tr>
<tr>
<td><code>.neqv.</code></td>
<td>两边不相同时，得到<code>.true.</code></td>
</tr>
</tbody>
</table>
</div>
<h5 id="IF-ELSE-IF"><a href="#IF-ELSE-IF" class="headerlink" title="IF ELSE IF"></a><code>IF ELSE IF</code></h5><pre><code>if (condition1) then
    ! ...
else if (condition2) then
    ! ...
else if (condition3) then
    ! ...
else
    ! ...
end if
</code></pre><h3 id="SELECT-CASE"><a href="#SELECT-CASE" class="headerlink" title="SELECT CASE"></a><code>SELECT CASE</code></h3><p>这是 f90 引入的标准，不过各大编译器基本都支持 f77 中使用。</p>
<pre><code>select case(变量)
case (数值1)
    ! ...
case (数值2)
    ! ...
case default
    ! ...
end select
</code></pre><p>其中<code>case</code>的数值不一定是特定的数值</p>
<ul>
<li><code>case(1)</code> 变量=1时成立</li>
<li><code>case(1:5)</code> 变量大于等于1，小于等于5时成立</li>
<li><code>case(1:)</code> 大于1</li>
<li><code>case(1,4,5)</code> 指定特定的几个数值</li>
</ul>
<p>不过<code>case</code>只能使用整数，字符串和逻辑变量，不能使用浮点数和复数。每个<code>case</code>中使用的数值必须是常量，不能使用变量。</p>
<h3 id="GOTO"><a href="#GOTO" class="headerlink" title="GOTO"></a><code>GOTO</code></h3><p>(一如既往的建议不要使用<code>goto</code>)，因为 Fortran 可以指定一行代码的编号，使用<code>goto</code>可以直接跳转</p>
<pre><code>goto 100
100 write(*, *) &quot;Hello!&quot;
</code></pre><p>还有一种用法</p>
<pre><code>goto(10,20,30) I ! 根据 I 的值确定调到哪里
! 如果 I=2, 调到第二个数，也就是 20 处
</code></pre><p><code>IF</code>也有一种类似的用法</p>
<pre><code>if (C) 10,20,30
! 如果 C &lt; 0, goto 10, 如果 C=0, goto 20, 如果 C&gt;0, goto 30
</code></pre><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="PAUSE"><a href="#PAUSE" class="headerlink" title="PAUSE"></a><code>PAUSE</code></h4><p>相当于windows命令<code>pause</code></p>
<h4 id="CONTINUE"><a href="#CONTINUE" class="headerlink" title="CONTINUE"></a><code>CONTINUE</code></h4><p>无意义，相当于 Python 中的<code>pass</code></p>
<h4 id="STOP"><a href="#STOP" class="headerlink" title="STOP"></a><code>STOP</code></h4><p>停止程序.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E5%BC%B9%E6%80%A7%E6%95%A3%E5%B0%84%E7%A2%B0%E6%92%9E%E5%85%AC%E5%BC%8F%E5%8F%8A%E8%83%BD%E9%87%8F%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E5%BC%B9%E6%80%A7%E6%95%A3%E5%B0%84%E7%A2%B0%E6%92%9E%E5%85%AC%E5%BC%8F%E5%8F%8A%E8%83%BD%E9%87%8F%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/" class="post-title-link" itemprop="url">中子弹性散射碰撞公式及能量概率分布公式推导</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-03-25 13:59:38 / Modified: 14:10:58" itemprop="dateCreated datePublished" datetime="2021-03-25T13:59:38+03:00">2021-03-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%85%A2%E5%8C%96%E8%BF%87%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E4%B8%AD%E5%AD%90%E7%9A%84%E6%85%A2%E5%8C%96%E8%BF%87%E7%A8%8B/" class="post-title-link" itemprop="url">中子的慢化过程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-25 13:34:45" itemprop="dateCreated datePublished" datetime="2021-03-25T13:34:45+03:00">2021-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-31 15:02:17" itemprop="dateModified" datetime="2021-03-31T15:02:17+03:00">2021-03-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="弹性散射过程动力学"><a href="#弹性散射过程动力学" class="headerlink" title="弹性散射过程动力学"></a>弹性散射过程动力学</h3><p><img src="C:/Users/29581/AppData/Roaming/Typora/typora-user-images/image-20210325133645263.png" alt="image-20210325133645263" style="zoom:67%;"></p>
<center>图1. 在实验室(L系)和质心系(C系)内中子与核的弹性散射</center>

<p><strong>公理1</strong>：在C系当中，中子的弹性散射是<strong>各向同性</strong>的，即，中子向各个角度散射的概率是均等的。</p>
<p>利用该公理，从C系可推导出L系的公式。</p>
<p>最终得到碰撞前后的<strong>能量公式</strong>为（推导请见附录）</p>
<script type="math/tex; mode=display">
E^{\prime}=\frac{1}{2}\left[(1+\alpha)+(1-\alpha) \cos \theta_{\mathrm{c}}\right] E</script><p>其中，$E$ 和 $E^{\prime}$ 分别表示碰撞前后的中子能量，$\theta_{\mathrm{c}}$ 表示C系的中子散射角度。$ \alpha=\left(\frac{A-1}{A+1}\right)^{2} $</p>
<ul>
<li><p>当 $\theta<em>{\mathrm{c}}=0^\circ$ 时，$ E^{\prime} \longrightarrow E</em>{\mathrm{max}}^{\prime}=E $ ，没有造成能量损失</p>
</li>
<li><p>当 $\theta<em>{\mathrm{c}}=180^\circ$ 时，$ E^{\prime} \longrightarrow E</em>{\mathrm{min}}=αΕ $ ，</p>
<p>即，$ E^{\prime}\in [αΕ,E] $</p>
<p>因此一次碰撞中子可能损失的最大能量为 <script type="math/tex">\Delta E_{\max }=(1-\alpha) E</script></p>
</li>
</ul>
<p><strong>L系散射角余弦（不重要）</strong></p>
<script type="math/tex; mode=display">
\cos \theta_{l}=\frac{1}{2}\left[(A+1) \sqrt{\frac{E^{\prime}}{E}}-(A-1) \sqrt{\frac{E}{E^{\prime}}}\right]</script><p><strong>平均散射角余弦</strong></p>
<script type="math/tex; mode=display">
\overline{\cos \theta_{l}}=\frac{2}{3A}>0</script><p>由平均散射角余弦，可得结论:</p>
<ul>
<li>L系散射是各向</li>
<li>中子向前冲的概率大于反弹的概率（&gt;0），</li>
<li>是原子核的固有属性（仅是A的函数），</li>
<li>重量越小，各向异性越强（与A成反比，由此可知各向异性普遍存在）。</li>
</ul>
<h3 id="散射后中子能量分布"><a href="#散射后中子能量分布" class="headerlink" title="散射后中子能量分布"></a>散射后中子能量分布</h3><p>能量分布（推导请见附录）需要用到$\theta_{\mathrm{c}}$ 在C系中各向同性的概率</p>
<script type="math/tex; mode=display">
f\left(E \rightarrow E^{\prime}\right) \mathrm{d} E^{\prime}=-\frac{\mathrm{d} E^{\prime}}{(1-\alpha) E} \quad \alpha E \leqslant E^{\prime} \leqslant E</script><p>其中，$ \alpha=\left(\frac{A-1}{A+1}\right)^{2} $</p>
<p>注意，E 落到区间内其他位置的概率是均等的。</p>
<h3 id="平均对数能降"><a href="#平均对数能降" class="headerlink" title="平均对数能降"></a>平均对数能降</h3><script type="math/tex; mode=display">
u=\ln \frac{E_{0}}{E}\\
或\\
E=E_{0} \mathrm{e}^{-u}</script><p>其中，$E<em>{0}$ 为选定的参考能量，一般取 $E</em>{0}=2 MeV$</p>
<p><strong>对数能将增量</strong></p>
<script type="math/tex; mode=display">
\Delta u=u^{\prime}-u=\ln \frac{E_{0}}{E^{\prime}}-\ln \frac{E_{0}}{E}=\ln \frac{E}{E^{\prime}}</script><p><strong>最大对数能降增量</strong></p>
<script type="math/tex; mode=display">
γ=Δu_{max}=\ln \frac{1}{α}</script><p><strong>平均对数能降</strong></p>
<script type="math/tex; mode=display">
\xi=\overline{\ln E-\ln E^{\prime}}=\overline{\ln \frac{E}{E^{\prime}}}=\overline{\Delta u}</script><p>在质心系内散射为各向同性的情况下：</p>
<script type="math/tex; mode=display">
\int_{E}^{a E}\left(\ln E-\ln E^{\prime}\right) f\left(E \rightarrow E^{\prime}\right) \mathrm{d} E^{\prime}=\int_{a E}^{E} \ln \frac{E}{E} \frac{\mathrm{d} E^{\prime}}{(1-\alpha) E} \\
=1+\frac{\alpha}{1-\alpha} \ln \alpha=1-\frac{(A-1)^{2}}{2 A} \ln \left(\frac{A+1}{A-1}\right)</script><p>当 A&gt;10 时，可使用近似式</p>
<script type="math/tex; mode=display">
\xi \approx \frac{2}{A+\frac{2}{3}}</script><p>又是固有属性。可知道慢化所需碰撞次数。</p>
<p><strong>平均碰撞次数</strong></p>
<script type="math/tex; mode=display">
N_{\mathrm{c}}=\frac{\ln E_{1}-\ln E_{2}}{\xi}=\frac{\ln \frac{E_{1}}{E_{2}}}{\xi}</script><p>因此，原子量越小，所需碰撞次数越少，这就是为什么要用水做慢化剂</p>
<h3 id="慢化能力"><a href="#慢化能力" class="headerlink" title="慢化能力"></a>慢化能力</h3><script type="math/tex; mode=display">
ξΣ_{s}</script><h3 id="慢化比"><a href="#慢化比" class="headerlink" title="慢化比"></a>慢化比</h3><script type="math/tex; mode=display">
\frac{ξΣ_{s}}{Σ_{a}}</script><h3 id="常用慢化剂"><a href="#常用慢化剂" class="headerlink" title="常用慢化剂"></a>常用慢化剂</h3><div class="table-container">
<table>
<thead>
<tr>
<th>慢化剂</th>
<th>慢化能力</th>
<th>热中子吸收截面</th>
<th>慢化比</th>
</tr>
</thead>
<tbody>
<tr>
<td>重水</td>
<td>0.55</td>
<td>$4.03·10^{-5}$</td>
<td>5717</td>
</tr>
<tr>
<td>石墨</td>
<td>0.06</td>
<td>0.0003</td>
<td>234</td>
</tr>
<tr>
<td>铍</td>
<td>0.21</td>
<td>0.0011</td>
<td>156</td>
</tr>
<tr>
<td>轻水</td>
<td>2.06</td>
<td>0.0224</td>
<td>92</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>轻水+浓缩铀</li>
<li>重水+天然铀</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E5%8A%9F%E7%8E%87%E4%B8%8E%E8%A1%B0%E5%8F%98%E5%8A%9F%E7%8E%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E5%8A%9F%E7%8E%87%E4%B8%8E%E8%A1%B0%E5%8F%98%E5%8A%9F%E7%8E%87/" class="post-title-link" itemprop="url">核反应堆功率与衰变功率</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-25 12:24:36" itemprop="dateCreated datePublished" datetime="2021-03-25T12:24:36+03:00">2021-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-27 12:04:49" itemprop="dateModified" datetime="2021-03-27T12:04:49+03:00">2021-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="核反应堆功率"><a href="#核反应堆功率" class="headerlink" title="核反应堆功率"></a>核反应堆功率</h3><p><strong>核反应裂变率(fission)</strong> - 单位时间单位体积发生裂变的总次数，用符号<script type="math/tex">R_{f}</script>表示。</p>
<script type="math/tex; mode=display">
R_{f}=\int_{\Delta E} \Sigma_{f}(E) \phi(E) \mathrm{d} E={\Sigma_{f}} \bar\Phi</script><p>反应产生1J的能量需要 <script type="math/tex">3.12·10^{10}</script> 次裂变</p>
<p>因此，<strong>功率公式</strong>可写为</p>
<script type="math/tex; mode=display">
P=\frac{R_{\mathrm{f}} V}{3.12 \times 10^{10}}=\frac{\Sigma_{\mathrm{f}} \bar{\phi} V}{3.12 \times 10^{10}}</script><p><strong>平均中子通量(Average neutron flux) </strong> 由 (2) 式可得，在之后的材料中会计算如何求得局部空间的中子通量</p>
<script type="math/tex; mode=display">
\bar{\phi}=\frac{3.12 \times 10^{10} P}{V \Sigma_{f}}</script><script type="math/tex; mode=display">F_{f}$$ 表示单位时间发生裂变的总次数。</script><p>F<em>{f}=R</em>{\mathrm{f}} V=\Sigma_{\mathrm{f}} \bar{\phi} V</p>
<script type="math/tex; mode=display">
$$F_{a}$$ 表示单位时间发生吸收的总次数。

其中</script><p>σ<em>{a}=σ</em>{f}+σ<em>{γ}\<br>\alpha=\frac{\sigma</em>{\gamma}}{\sigma_{\mathrm{f}}}</p>
<script type="math/tex; mode=display">
可得</script><p>F<em>{a}=F</em>{f} \cdot \frac{\sigma<em>{a}}{\sigma</em>{f}}=(1+\alpha) F_{f}=(1+\alpha) 3.12 \times 10^{10} P</p>
<script type="math/tex; mode=display">
由此可得**每天消耗的核燃料质量**</script><p>G=\frac{F<em>{a} A}{N</em>{0} \times 10^{3}}=4.48 \times 10^{-12} \times(1+\alpha) P \times A\qquad千克/日</p>
<script type="math/tex; mode=display">

##### 例题1:

一核电站压水堆的热功率为 2800 MW ,电站年负荷因子为0.85,试估算该电站1年(365天)所消耗的 $$\ce{^{235}U}$$ 质量。

**解：**

负荷因子 $$f$$ 定义：</script><p>f=\frac{1年实际的发电量}{按名义功率计算的发电量}</p>
<script type="math/tex; mode=display">
一年实际所产生的能量为</script><p>W=P \cdot f \cdot t=2800 \times 10^{6} \times 0.85 \times 365 \times 86400=\=7.506 \times 10^{16}\qquad J</p>
<script type="math/tex; mode=display">
$$\ce{^{235}U}$$ 的相对原子质量为</script><p>A_{235}=235\qquad g/mol</p>
<script type="math/tex; mode=display">
$$\ce{^{235}U}$$ 与热中子反应的裂变俘获比为</script><p>α=0.18</p>
<script type="math/tex; mode=display">
 则一年消耗的 $$\ce{^{235}U}$$ 质量为</script><p>G=\frac{F<em>{a} A}{N</em>{0} \times 10^{3}} \times 365=\<br>=4.48 \times 10^{-12} \times(1+\alpha) Pf \times A\times 365\<br>=1079.19 \qquad kg</p>
<script type="math/tex; mode=display">

### 衰变功率

##### 例题2：

设某一反应堆以功率 P 运行了 T 秒后停堆，试求停堆 τ 秒时反应堆的功率。

**解：**

<div align="center">
    <img src="https://www.chzhanyeb.cloud/2021/03/25/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E7%89%A9%E7%90%86/%E6%A0%B8%E5%8F%8D%E5%BA%94%E5%A0%86%E5%8A%9F%E7%8E%87%E4%B8%8E%E8%A1%B0%E5%8F%98%E5%8A%9F%E7%8E%87/image-20210325132929853.png"></img>
</div></script><p>P<em>{d}(\tau, T)=\int</em>{0}^{T} P \times 3.12 \times 10^{10} \times 2.66 \times(T+\tau-t)^{-1.2} d t\<br>=4.1 \times 10^{11} P\left(\tau^{-0.2}-(T+\tau)^{-0.2}\right)</p>
<p>$$</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/24/%E6%96%87%E7%8C%AE%E7%AC%94%E8%AE%B0/%E5%B0%84%E6%B5%81%E7%90%86%E8%AE%BA/Turbulent%20gravitational%20convection%20from%20maintained%20and%20instantaneous%20sources/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/24/%E6%96%87%E7%8C%AE%E7%AC%94%E8%AE%B0/%E5%B0%84%E6%B5%81%E7%90%86%E8%AE%BA/Turbulent%20gravitational%20convection%20from%20maintained%20and%20instantaneous%20sources/" class="post-title-link" itemprop="url">Turbulent gravitational convection from maintained and instantaneous sources</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-03-24 09:22:17 / Modified: 12:09:47" itemprop="dateCreated datePublished" datetime="2021-03-24T09:22:17+03:00">2021-03-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-Article"><a href="#1-Article" class="headerlink" title="1.Article:"></a>1.<strong>Article:</strong></h3><p>Morton, B., et al. (1956). “Turbulent gravitational convection from maintained and instantaneous sources.” Proceedings of the Royal Society of London. Series A. Mathematical and Physical Sciences 234(1196): 1-23.</p>
<h3 id="2-Data"><a href="#2-Data" class="headerlink" title="2.Data:"></a>2.<strong>Data:</strong></h3><ul>
<li><p><strong>Conclusion</strong></p>
<ul>
<li><p>Theories of convection from maintained and instantaneous sources of buoyancy are developed, using <strong>methods which are applicable to stratified body fluids with any variation of density with height</strong>; </p>
</li>
<li><p>detailed solutions have been presented for the case of <strong>a stably stratified fluid with a linear density gradient.</strong> </p>
<p>The three main assumptions involved are </p>
<ol>
<li>that the profiles of vertical velocity and buoyancy are similar at all heights, </li>
<li>that the rate of entrainment of  fluid at any height is proportional to a characteristic velocity at that     height, </li>
<li>that the fluids are incompressible and do not change volume on mixing, and that local variations in density throughout the motion are small compared to some reference density. </li>
</ol>
<p>The governing equations are derived in non-dimensional form from <strong>the conditions of conservation of volume, momentum and buoyancy</strong>, and a numerical solution is obtained for the case of the maintained source, This leads to a prediction of the final height to which a plume of light fluid will rise in <strong>a stably stratified fluid</strong>. Estimates of the constant governing the rate of entrainment are made by comparing the theory with some previous results in <strong>uniform fluids</strong>, and with <strong>the results of new experiments carried out in a stratified salt solution</strong>.</p>
<p>  For the case of an instantaneous source of buoyancy there is an <strong>exact solution</strong>; the <strong>entrainment constant</strong> is again estimated from laboratory results for a stratified fluid.</p>
<p>  Finally, the analysis is applied to the (compressible) atmosphere, by <strong>making the customary substitution of potential temperature for temperature</strong>. Predictions are made of the height to which smoke plumes from typical sources of heat should rise in a still, stably stratified atmosphere under various conditions.</p>
</li>
</ul>
</li>
<li><p><strong>Background Introduction</strong></p>
<ul>
<li>Finding the distribution of fluid velocity and temperature near such bodies.<ul>
<li>Schmidt (1941)  studied the behaviour of convective plumes of air above steady point and line sources of heat in a uniform, incompressible atmosphere.</li>
<li>Yih (1951) and Rouse, Yih &amp; Humphreys (1952) have given the results of measurements made in plumes above a single gas burner and above a line<br>of gas burners in air.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Results</strong></p>
<ul>
<li></li>
</ul>
</li>
<li><p><strong>Method</strong></p>
<ul>
<li><p><strong>Gravitational convection</strong></p>
<p><strong>Relationship:</strong></p>
<script type="math/tex; mode=display">
\frac { ρ _ { 0 } - ρ } { ρ _ { 1 } } = \beta ( T - T _ { 0 } )</script><p>​    where ${ ρ <em> { 1 } } $ is the reference density, ${ ρ </em> { 0 } } $ and ${ ρ } $ are the densities in the ambient fluid and in the plume respectively, with the absolute temperatures (T) similarly defined, and β is the coefficient of cubical expansion (for gases <script type="math/tex">\beta \sim 1 / T _ { 1 }</script>)</p>
</li>
<li><p><strong>The main assumptions</strong></p>
<ol>
<li>That the rate of entrainment at the edge of the plume or cloud is proportional to some characteristic velocity at that height,</li>
<li>That the profiles of mean vertical velocity and mean buoyancy force in horizontal sections are of similar form at all heights,</li>
<li>That the largest local variations of density in the field of motion are small in comparison with some chosen reference of density, this reference being taken as the density of the ambient fluid at the level of the source.</li>
</ol>
</li>
<li><p><strong>Maintained sources</strong></p>
<ol>
<li>conservation of volume,</li>
<li>conservation of momentum,</li>
<li>conservation of density deficiency (the equivalent of heat).</li>
</ol>
</li>
<li><p><strong>The maintained plume in a uniform ambient fluid</strong></p>
<p>Assuming that the velocity and buoyancy force are constant across the plume, and zero outside it (i.e. a ‘ top hat ’ profile)</p>
<script type="math/tex; mode=display">
\begin{array}{l}(i)
\frac{\mathrm{d}}{\mathrm{d} x}\left(\pi b^{2} u\right)=2 \pi b \alpha u \\(ii)
\frac{\mathrm{d}}{\mathrm{d} x}\left(\pi b^{2} u^{2} \rho\right)=\pi b^{2} g\left(\rho_{0}-\rho\right) \\(iii)
\frac{\mathrm{d}}{\mathrm{d} x}\left[\pi b^{2} u\left(\rho_{1}-\rho\right)\right]=2 \pi b \alpha u\left(\rho_{1}-\rho_{0}\right)
\end{array}</script><p>​        where a is the proportionality constant relating the inflow velocity at the edge of the plume to the vertical velocity within the plume, and b is the actual radius to the plume edge.</p>
</li>
</ul>
</li>
</ul>
<h3 id="3-Comments"><a href="#3-Comments" class="headerlink" title="3.Comments"></a>3.<strong>Comments</strong></h3><p>记录自己看文献时的一些思路，以及发现文献的一些不足</p>
<h3 id="4-Why"><a href="#4-Why" class="headerlink" title="4.Why"></a>4.<strong>Why</strong></h3><p> Founder-level papers, understand the background of the subject, and learn analytical methods</p>
<h3 id="5-Summary"><a href="#5-Summary" class="headerlink" title="5.Summary"></a>5.<strong>Summary</strong></h3><p>不超过5个字来总结这篇文献</p>
<p>可以是文献关键词的结合，也可以是你对文献方向的总结</p>
<p>目的是为了让你以后对相关文献笔记进行分类，搜索的时候也更容易。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/23/Fortran/3.%E7%B1%BB%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/23/Fortran/3.%E7%B1%BB%E5%9E%8B/" class="post-title-link" itemprop="url">3.类型</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-23 22:49:21" itemprop="dateCreated datePublished" datetime="2021-03-23T22:49:21+03:00">2021-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-25 22:20:25" itemprop="dateModified" datetime="2021-03-25T22:20:25+03:00">2021-03-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="类型说明语句"><a href="#类型说明语句" class="headerlink" title="类型说明语句"></a>类型说明语句</h3><p>一般形式为：</p>
<pre><code>类型说明[(种别说明)][,属性说明表] :: 变量名表[=初值]
</code></pre><p>在某些场合下，种别说明与属性说明可以省略，此时它的一般形式是最基本形式：</p>
<pre><code>类型说明:: 变量名表
</code></pre><h3 id="类型说明："><a href="#类型说明：" class="headerlink" title="类型说明："></a><strong>类型说明：</strong></h3><h4 id="INTEGER"><a href="#INTEGER" class="headerlink" title="INTEGER"></a><code>INTEGER</code></h4><pre><code>program main
    integer         a    ! 默认字节数
    integer ::      a2   ! f90 语法
    integer(kind=4) b    ! f90 语法
    integer*4       c    ! f77 传统写法
    integer(4)      d    ! f77 传统写法
end
</code></pre><p>值得一提是在 f90 中可以使用二进制赋值</p>
<pre><code>a = B&quot;10&quot; ! 二进制
a = O&quot;10&quot; ! 八进制
a = Z&quot;10&quot; ! 十六进制
</code></pre><h4 id="REAL"><a href="#REAL" class="headerlink" title="REAL"></a><code>REAL</code></h4><pre><code>real(kind=4) a ! f90
real*4       b ! f77
real(4)      c ! f77
real(kind=8) d ! 双精度
double precision e ! f77 双精度
</code></pre><ul>
<li>科学计数法<code>1.5e23</code></li>
<li>双精度科学计数法<code>1D10</code></li>
<li>双精度后缀<code>d0</code>，比如<code>1.d0</code>表示双精度的<code>1.0</code></li>
</ul>
<p><strong>特别要强调的是，Fortran的小数字面量默认是单精度的。</strong> 也就是你如果这样写</p>
<pre><code>real(8) :: a
a = 1.2
</code></pre><p>其实赋值给<code>a</code>的还是单精度的<code>1.2</code>，必须要写<code>a = 1.2d0</code>才是双精度的。</p>
<h4 id="COMPLEX"><a href="#COMPLEX" class="headerlink" title="COMPLEX"></a><code>COMPLEX</code></h4><pre><code>complex a
complex(kind=4) b
complex(kind=8) c ! 双精度
complex*4       d ! f77
complex(4)      e ! f77
</code></pre><p>赋值</p>
<pre><code>a = (1.0, 1.0)
</code></pre><h4 id="CHARACTER"><a href="#CHARACTER" class="headerlink" title="CHARACTER"></a><code>CHARACTER</code></h4><p>声明一个字符</p>
<pre><code>character a
</code></pre><p>声明字符串</p>
<pre><code>character(len=10) a ! f90
character(10)     b ! f77
character*10      c ! f77
character*(10)    d ! f77
</code></pre><p>值得注意的是，在 f77 中<code>character</code>后指定的数字，表示的是字符长度，而前面几种类型表示的一个变量的字节数，在 f77 中，这两者在写法上是一样的。在 f90 后，参数<code>len</code>和<code>kind</code>的区别，明确了其中的不同。</p>
<ul>
<li>单引号字符要包含单引号，转义需要两个单引号；双引号字符包含双引号同理</li>
<li>字符串拼接 <code>//</code></li>
<li>相关函数</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th><code>char(num)</code></th>
<th>返回数值<code>num</code>所代表的字符</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ichar(char)</code></td>
<td>返回<code>char</code>字符的二进制编码整数</td>
</tr>
<tr>
<td><code>len(string)</code></td>
<td>返回字符串的<strong>声明长度</strong></td>
</tr>
<tr>
<td><code>len_trim(string)</code></td>
<td>返回字符串除去尾端空格之后的实际长度</td>
</tr>
<tr>
<td><code>index(string, key)</code></td>
<td>匹配子串<code>key</code>在<code>string</code>中第一次出现的位置</td>
</tr>
<tr>
<td><code>trim(string)</code></td>
<td>返回把<code>string</code>字符串尾端多余空格清除之后的字符串</td>
</tr>
</tbody>
</table>
</div>
<h4 id="LOGICAL"><a href="#LOGICAL" class="headerlink" title="LOGICAL"></a><code>LOGICAL</code></h4><pre><code>logical a
logical*4 b ! f77 指定 4 字节，不过没什么意义，其他类似`INTEGER`的写法也有
</code></pre><p>赋值</p>
<pre><code>a = .true.
b = .false.
</code></pre><h4 id="IMPLICIT"><a href="#IMPLICIT" class="headerlink" title="IMPLICIT"></a>IMPLICIT</h4><p>Fortran 有一个默认的特性，如果没有事先声明，第一个字母为<code>I,J,K,L,M,N</code>的变量被视为整数类型，其他变量会被当成浮点数来使用。</p>
<p>使用<code>implicit none</code>关掉这个特性，则所有变量必须声明之后才能够使用。此外，也可以指定默认类型。</p>
<pre><code>implicit integer(A,B,C)  ! 以A,B,C开头的变量视为整数
implicit real(M-P,X,Y,Z) ! 指定默认的实数类型变量
</code></pre><p>不过，<strong>建议在程序说明部分使用语句<code>implicit none</code>关掉这个特性，默认开头表示类型这种东西容易造成混乱</strong></p>
<h3 id="赋初值："><a href="#赋初值：" class="headerlink" title="赋初值："></a><strong>赋初值：</strong></h3><pre><code>类型说明:: 变量名1=初值1[,变量名2=初值2,…]
</code></pre><p>注意：在过程中这种赋初值的方法实际上是对变量赋于了<code>SAVE属性</code>，即当过程被调用以后，变量的新值将被保存下来，过程再次被调用时变量的初值不再是类型说明语句中的初值，而是上次被保留下来的值。</p>
<h3 id="DATA语句："><a href="#DATA语句：" class="headerlink" title="DATA语句："></a><strong>DATA语句：</strong></h3><p>是F77中的一种语句，不重要</p>
<pre><code>DATA 变量名表1/初值表1/[[,]变量名表2/初值表2/…]
</code></pre><p>例如：</p>
<pre><code>! 对数组作以下的初始化：
DIMENSION A(10,10)
DATA A/100*1.0/           ! 按数组变量名统一初始化
DATA A(1,1), A(10,1), A(3,3) /2*2.5, 2.0/  
                        ! 按数组元素逐个初始化
DATA ((A(I,J),I=1,5,2),J=1,5) /15*1.0/     
                        ! 按隐DO循环初始化

! 对字符串作初始化：
CHARACTER (LEN=10) name
CHARACTER BELL, TAB, LF, FF, STARS*6
CHARACTER*8 help
DATA name,STARS /&#39;Zhang Fei&#39;,&#39;****&#39;/
DATA BELL,TAB,LF,FF /7,9,10,12/ 
                        ! 用ACSII控制字符码赋于字符变量
DATA  help(1:4),help(5:8) /2*&#39;HELP&#39;/        
                        ! 用字符子串分段赋值

! 对数值型数据作初始化：
INTEGER n, order, list(100)
REAL coef(4),eps(2),pi(5),x(5,5)
COMPLEX*8 cstuff
DATA  n/0/, order/3/, list/100*0/
DATA  coef/1.0,2*3.0,1.0/, eps(1)/.00001/
DATA  pi/5*3.14159/
DATA  ((x(j,i),i=1,j),j=1,5)/15*1.0/
DATA  cstuff/(-1.0,-1.0)/
</code></pre><h3 id="种别说明"><a href="#种别说明" class="headerlink" title="种别说明"></a>种别说明</h3><h4 id="种别说明方法"><a href="#种别说明方法" class="headerlink" title="种别说明方法"></a>种别说明方法</h4><p>种别是F90的新概念。一个数据,不仅有一个类型，并在同一类型下可分为若干种别，种别值确定了数据的大小范围和精度，便于代码移植。</p>
<p>由于F90程序设计语言没有规定各类型的种别值，因此，具体种别值划分由软件开发商设置。</p>
<pre><code>类型说明([KIND=]种别值)
</code></pre><p>一个变量必有一个种别，如果变量的类型说明语句中没有种别说明符，如：</p>
<p>​        REAL:: X, Y</p>
<p>则表示变量X，Y的种别缺省，这时采用系统规定的标准值。</p>
<h4 id="种别函数"><a href="#种别函数" class="headerlink" title="种别函数"></a>种别函数</h4><div class="table-container">
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>KIND(X)：</td>
<td>函数<code>KIND</code>用于查询变量的种别，它返回X的种别值，当X取值为0时，返回标准种别值即缺省值。</td>
</tr>
<tr>
<td>SELECTED_REAL_KIND([n][,m])：</td>
<td>该函数返回实型变量对所取的值范围和精度恰当的种别值。其中n是指明十进制有效位的位数，m指明值范围内以10为底的幂次。<br>对给定的实型和复型量X，它的精度和范围可通过内部函数<code>PRECISION(X)</code>和<code>RANGE(X)</code>查出。</td>
</tr>
<tr>
<td>SELECTED_INT_KIND([m])：</td>
<td>该函数返回整型变量对所取的值范围恰当的种别值。m指明值的范围是$－10^{m}—10^{m}$<br>可以用<code>SELECTED_REAL_KIND</code>或<code>SELECTED_INT_KIND</code>定义一个<code>PARAMETER</code>常数以备后用</td>
</tr>
</tbody>
</table>
</div>
<h4 id="常数种别"><a href="#常数种别" class="headerlink" title="常数种别"></a>常数种别</h4><div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>21_2+7.6_4</td>
<td>表示整型种别为2的数21与实型种别为4的数7.6相加。</td>
</tr>
<tr>
<td>3.8E-5_4</td>
<td></td>
</tr>
<tr>
<td>0.87D-16</td>
<td>禁止说明种别值</td>
</tr>
<tr>
<td>(4.7_8,5)</td>
<td>复型数据表示用括号，逗号分开前面的实部(种别值为8的实数)和后面的虚部(缺省种别值的整数)。</td>
</tr>
<tr>
<td>.FALSE._4</td>
<td>表示逻辑型，其常数值是假，种别值是4。</td>
</tr>
<tr>
<td>5_‘αβγ’</td>
<td>表示希腊字符串αβγ的种别值是5。</td>
</tr>
<tr>
<td>6_‘计算数学’</td>
<td>表示汉字字符串‘计算数学’的种别值是6。</td>
</tr>
</tbody>
</table>
</div>
<h4 id="整数的其他机制"><a href="#整数的其他机制" class="headerlink" title="整数的其他机制"></a>整数的其他机制</h4><p>2#01011011  -&gt;  二进制</p>
<p>8#43051472  -&gt;  八进制</p>
<p>#A92D80EF  -&gt;  十六进制</p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><div class="table-container">
<table>
<thead>
<tr>
<th><strong>属性关键字</strong></th>
<th><strong>描述</strong></th>
<th><strong>适用范围</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ALLOCATABLE</td>
<td>说明动态数组</td>
<td>数组</td>
</tr>
<tr>
<td>AUTOMATIC</td>
<td>声明变量在堆栈中而不是在内存中</td>
<td>变量</td>
</tr>
<tr>
<td>DIMENSION</td>
<td>说明数组</td>
<td>数组变量</td>
</tr>
<tr>
<td>EXTERNAL</td>
<td>声明外部函数的名称</td>
<td>过程</td>
</tr>
<tr>
<td>INTENT</td>
<td>说明过程哑元的用意</td>
<td>过程哑元</td>
</tr>
<tr>
<td>INTRINSIC</td>
<td>声明一个内部函数</td>
<td>过程</td>
</tr>
<tr>
<td>OPTIONAL</td>
<td>允许过程被调用时省略哑元</td>
<td>过程哑元</td>
</tr>
<tr>
<td>PARAMETER</td>
<td>声明常量</td>
<td>常量</td>
</tr>
<tr>
<td>POINTER</td>
<td>声明数据对象为指针</td>
<td>变量</td>
</tr>
<tr>
<td>PRIVATE</td>
<td>限制模块中的实体访问于本块内</td>
<td>常量、变量或模块</td>
</tr>
<tr>
<td>PUBLIC</td>
<td>允许模块中的实体被外部使用</td>
<td>常量、变量或模块</td>
</tr>
<tr>
<td>SAVE</td>
<td>保存过程执行后其中的变量值</td>
<td>变量或公共块</td>
</tr>
<tr>
<td>STATIC</td>
<td>说明变量为静态存储</td>
<td>变量</td>
</tr>
<tr>
<td>TARGET</td>
<td>声明变量为目标</td>
<td>变量</td>
</tr>
<tr>
<td>VOLATILE</td>
<td>声明对象为完全不可预测并在编译时无优化</td>
<td>数据对象或公共块</td>
</tr>
</tbody>
</table>
</div>
<h4 id="PARAMETER"><a href="#PARAMETER" class="headerlink" title="PARAMETER"></a>PARAMETER</h4><p>指定常数。</p>
<pre><code>implicit none
real, parameter :: e = 2.71828 ! f90 `::`不能省略
real pi
parameter(pi=3.14159)          ! f77
</code></pre><h4 id="DIMENSION"><a href="#DIMENSION" class="headerlink" title="DIMENSION"></a>DIMENSION</h4><p>说明一个符号名是数组名，只要在说明语句中附加数组属性关键字。数组属性关键字是：DIMENSION(数组形状说明)。</p>
<h4 id="变量初始化"><a href="#变量初始化" class="headerlink" title="变量初始化"></a>变量初始化</h4><pre><code>character(len=20) :: str = &quot;fortran 90&quot; ! f90 才可以
</code></pre><p>而 Fortran 77 采用 <code>DATA</code> 命令来初始化，示例如下</p>
<pre><code>      PROGRAM test
      IMPLICIT NONE
      INTEGER A
      REAL B
      COMPLEX C
      CHARACTER*(20) STR
      DATA A,B,C,STR /1, 2.0, (1,0, 2.0), &#39;FORTRAN 77&#39;/
      STOP
      END
</code></pre><p>在函数内最好不要使用 <code>data</code> 来初始化。 由于 Fortran 函数局部变量的<code>save</code>机制（后面会讲），第二次进入函数时，局部变量可能就不是<code>data</code>设置的值了。（至少gfortran出现过这种错误。）最好直接用<code>=</code>赋值。</p>
<h4 id="等价声明"><a href="#等价声明" class="headerlink" title="等价声明"></a>等价声明</h4><pre><code>integer a
real b
equivalence(a, b)
</code></pre><p>此时 <code>a,b</code> 占用同一块内存，类似于C语言的<code>union</code>，有的时候，如果程序常用<code>array(1,1,5)</code>，可以这样写<code>equivalence(array(1,1,5), A)</code>，以后用<code>A</code>表示<code>array(1,1,5)</code>，而不是在每个要用<code>array(1,1,5)</code>的地方重新创建。</p>
<h3 id="自定义数据类型（f90"><a href="#自定义数据类型（f90" class="headerlink" title="自定义数据类型（f90)"></a>自定义数据类型（f90)</h3><pre><code>type :: student      ! 定义`student`类型
    character(len=30) :: name
    integer :: score
    real :: GPA
end type student
type(student) :: alice ! 声明一个 student 变量
alice%name = &quot;Alice&quot;   ! 使用 `%` 访问 student 的属性
alice = student(&quot;Alice&quot;, 100, 4.0) ! 直接设置所有属性
</code></pre><h3 id="隐式类型转化"><a href="#隐式类型转化" class="headerlink" title="隐式类型转化"></a>隐式类型转化</h3><p>需要特别注意的是，Fortran只有在变量初始化的时候，才会发生隐式类型转换。在其他任何时候，包括<strong>参数传递，运算符</strong>等地方，都不支持隐式类型转换。也就是说，即使是<code>real(4)</code>变量传给<code>real(8)</code>参数，都会发生严重的错误。（有一些运算符能够执行，比如<code>real+integer</code>，是因为 Fortran 重载了该运算符，而不是发生了隐式类型转换。）</p>
<p>如果深究原因，Fortran 的变量，本质上相当于 C 语言的指针。。传递参数相当于传递了一个地址过去，这当然是不包含类型信息的，所以会被按照内存的方式直接读取，是不可能发生隐式类型转换的。</p>
<pre><code>// 类型匹配错误大概相当于 C 语言发生了这样的转换
int a = 100;
float b = *(float*(&amp;a));
</code></pre><p>这一点在熟悉 C/c++ 的刚开始学习 Fortran 时必须特别注意</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/23/Fortran/2.%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/23/Fortran/2.%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">2.输入输出基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-23 20:36:06" itemprop="dateCreated datePublished" datetime="2021-03-23T20:36:06+03:00">2021-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-27 11:27:09" itemprop="dateModified" datetime="2021-03-27T11:27:09+03:00">2021-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="相关语句"><a href="#相关语句" class="headerlink" title="相关语句"></a>相关语句</h3><ul>
<li><strong>数据传输语句</strong><ul>
<li>READ，ACCEPT，WRITE，PRINT，REWRITE</li>
</ul>
</li>
<li><strong>文件连接、查询和定位语句</strong><ul>
<li>BACKSPACE，CLOSE，DELETE，ENDFILE，INQUIRE，OPEN，REWIND，UNLOCK</li>
</ul>
</li>
<li><strong>内在函数 EOF</strong> 可以用来判断在文件当前位置之后<strong>是否还有剩余数据</strong>。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>语句</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACCEPT</td>
<td>输入数据，和格式化顺序READ语句类似</td>
</tr>
<tr>
<td>BACKSPACE</td>
<td>定位到文件上一个记录开始处</td>
</tr>
<tr>
<td>CLOSE</td>
<td>断开和一个单元(文件和设备)的连接</td>
</tr>
<tr>
<td>DELETE</td>
<td>从相关文件中删去一条记录</td>
</tr>
<tr>
<td>ENDFILE</td>
<td>写一个文件结束记录</td>
</tr>
<tr>
<td>INQUIRE</td>
<td>返回一个单元或外部文件的属性</td>
</tr>
<tr>
<td>OPEN</td>
<td>使一个单元号和一个文件或设备相连接</td>
</tr>
<tr>
<td>PRINT</td>
<td>向星号单元(屏幕)输出数据</td>
</tr>
<tr>
<td>READ</td>
<td>从一个文件向I/O列表中的项目输入数据</td>
</tr>
<tr>
<td>REWIND</td>
<td>重新定位于文件的开头</td>
</tr>
<tr>
<td>REWRITE</td>
<td>覆盖当前记录</td>
</tr>
<tr>
<td>UNLOCK</td>
<td>释放先前被READ语句锁定的相关或顺序文件中的一个记录</td>
</tr>
<tr>
<td>WRITE</td>
<td>从一个I/O列表中的项目向文件输出数据</td>
</tr>
</tbody>
</table>
</div>
<p>一个记录是一个数字或字符的序列。有三种记录形式：</p>
<ul>
<li><p><strong>格式化记录</strong>：</p>
<p>​        一条格式化记录的数据需要进行内部和外部形式间的转化，格式化I/O语句有确切的格式说明符或名称列表，只有格式化I/O语句才能读写格式化记录</p>
</li>
<li><p><strong>非格式化记录</strong>：</p>
<p>​        非格式化记录保持其内部形式，而内部形式依赖于处理器。只有非格式化I/O语句才能读写非格式化记录。</p>
</li>
<li><p><strong>文件结束记录</strong>：</p>
<p>​        文件结束记录是文件的最后一个记录，可以在顺序文件中用ENDFILE语句写出一个文件结束记录。</p>
</li>
</ul>
<h3 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h3><h4 id="write"><a href="#write" class="headerlink" title="write"></a><code>write</code></h4><h5 id="简化形式："><a href="#简化形式：" class="headerlink" title="简化形式："></a>简化形式：</h5><pre><code>write(UNIT=*, FMT=*)
</code></pre><p><strong>参数说明</strong></p>
<ul>
<li>UNIT，输出设备，<code>*</code>表示控制台输出</li>
<li>FMT，输出格式，<code>*</code>表示默认格式</li>
</ul>
<p>（双引号转义：使用两个双引号，比如<code>write(*,*) &quot;My name is &quot;&quot;Alice&quot;&quot;.&quot;</code>）</p>
<p>（F77 标准只规定了使用单引号封装字符串，虽然多数编译器都支持双引号）</p>
<h5 id="功能完整形式："><a href="#功能完整形式：" class="headerlink" title="功能完整形式："></a>功能完整形式：</h5><pre><code>WRITE(&#123;[UNIT=]单元|*&#125;[,&#123;[FMT=]格式说明符|[NML=]名称列表组名|*&#125;][，REC=记录号][,IOSTAT=状态变量名][,ERR＝错误标号]) [I/O列表]
</code></pre><ul>
<li><p><strong>单元</strong>：</p>
<p>​        外部文件时是一个指定设备号的整型表达式，内部文件时是一个字符串、变量、数组、数组元素或非字符数组。</p>
</li>
<li><p><strong>格式说明符</strong>：</p>
<p>​        对于格式写操作是必需的，非格式写操作时不能有。</p>
</li>
<li><p><strong>名称列表组名</strong>：</p>
<p>​        如果它被说明，则I/O列表必须省略。</p>
</li>
<li><p><strong>错误标号</strong>：</p>
<p>​        在同一个程序单位中的一个可执行语句的标号。如果指定了它，I/O错误将把控制传递给此标号处的语句，省略时取决于状态变量名的存在与否。</p>
</li>
<li><p><strong>状态变量名</strong>：</p>
<p>​        一个整型变量、数组元素。当无错误时，它返回值为0，有错误时则返回错误信息号。</p>
</li>
<li><p><strong>记录号</strong>：</p>
<p>​        一个整数表达式指定要被写的记录序号，仅用于直接文件。文件中的第一条记录的记录号为1，缺省值为文件中的当前位置。</p>
</li>
</ul>
<p><strong>注意：</strong></p>
<ul>
<li>各项不是同时具有的</li>
<li>根据文件的属性(外部文件(顺序文件(格式化、格式化直接列表、格式化名称列表、非格式化)和直接文件(格式化、非格式化))和内部文件)不同而择其项。<ul>
<li>如果省略UNIT=，则第一个参数必须是“单元”</li>
<li>如果省略了FMT=或NML=，则格式说明符或名称列表组名必须是第二个参数(格式化文件)</li>
<li>其后的几项参数次序可以任意</li>
</ul>
</li>
</ul>
<h4 id="print和type"><a href="#print和type" class="headerlink" title="print和type"></a><code>print</code>和<code>type</code></h4><p>PRINT语句向屏幕输出，TYPE语句是PRINT语句的别名</p>
<h5 id="简化格式："><a href="#简化格式：" class="headerlink" title="简化格式："></a>简化格式：</h5><pre><code>print *, &quot;Hello world!&quot;
</code></pre><ul>
<li><code>*</code>表示不限定输出格式</li>
</ul>
<h5 id="功能完整形式：-1"><a href="#功能完整形式：-1" class="headerlink" title="功能完整形式："></a>功能完整形式：</h5><pre><code>PRINT &#123;*|格式&#125;[,I/O列表]
！或
PRINT 名称列表
</code></pre><p>例1：</p>
<pre><code>! 下面的语句是等价的
PRINT     &#39;(A11)&#39;, &#39;Abbottsford&#39;
WRITE (*, &#39;(A11)&#39;) &#39;Abbottsford&#39;
TYPE      &#39;(A11)&#39;, &#39;Abbottsford&#39;
</code></pre><p>例2：</p>
<pre><code>CHARACTER::q*1,f*69
q=&quot;&quot;&quot;&quot;
f=&quot;(&#39;CHARACTER::q*1,f*69&#39;/&#39;q=&#39;,4A/&#39;f=&#39;,3A/&#39;PRINT f,q,q,q,q,q,f,q&#39;/&#39;END&#39;)&quot;
PRINT f,q,q,q,q,q,f,q
END
</code></pre><h4 id="read"><a href="#read" class="headerlink" title="read"></a><code>read</code></h4><h5 id="简化形式：-1"><a href="#简化形式：-1" class="headerlink" title="简化形式："></a>简化形式：</h5><pre><code>read(UNIT=*, FMT=*) a
</code></pre><ul>
<li>UNIT，输入设备，<code>*</code>表示键盘输入</li>
<li>FMT，输入格式，<code>*</code>不指定格式</li>
</ul>
<h5 id="功能完整形式：-2"><a href="#功能完整形式：-2" class="headerlink" title="功能完整形式："></a>功能完整形式：</h5><pre><code>READ(&#123;[UNIT=]单元|*&#125;[,&#123;[FMT=]格式说明符|[NML=]名称列表组名|*&#125;] [，REC=记录号][,IOSTAT=状态变量名][,ERR＝错误标号][,END=文件结束标号][,EOR=记录结束标号]) [I/O列表]
</code></pre><ul>
<li><p><strong>文件结束标号：</strong></p>
<p>​        读到文件结束记录时把控制传递给标号处的语句。</p>
</li>
<li><p><strong>记录结束标号：</strong></p>
<p>​        读完一个记录时把控制传递给标号处的语句。</p>
</li>
</ul>
<h3 id="格式化FORMAT"><a href="#格式化FORMAT" class="headerlink" title="格式化FORMAT"></a>格式化<code>FORMAT</code></h3><pre><code>a = 100
write(*, 100) a ! 使用代码100,
100 format(I4)  ! 使用4个字符宽度
</code></pre><p>格式化参考表，其中的<code>[]</code>中的内容可以省略，大写字母是格式字符，小写字母，是需要写数字的。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>作用范围</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Aw</code></td>
<td>字符串</td>
<td>控制宽度为<code>w</code></td>
</tr>
<tr>
<td><code>BN</code></td>
<td>输入</td>
<td>定义文本框中的空位为没有东西</td>
</tr>
<tr>
<td><code>BZ</code></td>
<td>输入</td>
<td>定义文本框中的空位代表0</td>
</tr>
<tr>
<td><code>Dw.d</code></td>
<td>浮点数</td>
<td><code>w</code>字符宽度，<code>d</code>个小数位</td>
</tr>
<tr>
<td><code>Ew.d[Ee]</code></td>
<td>浮点数</td>
<td><code>w</code>个字符宽度，<code>d</code>个小数位，<code>e</code>个指数位</td>
</tr>
<tr>
<td><code>ENw.d[Ee]</code></td>
<td>浮点数</td>
<td>以指数类型来输出浮点数</td>
</tr>
<tr>
<td><code>ESw.d[Ee]</code></td>
<td>浮点数</td>
<td>以指数类型来输出浮点数</td>
</tr>
<tr>
<td><code>Fw.d</code></td>
<td>浮点数</td>
<td><code>w</code>个字符，<code>d</code>个小数位</td>
</tr>
<tr>
<td><code>Gw.d[Ee]</code></td>
<td></td>
<td>以<code>w</code>个字符宽度开输出任何种类的数据</td>
</tr>
<tr>
<td><code>Iw[.m]</code></td>
<td>整数</td>
<td><code>w</code>宽度，最少输出<code>m</code>个数字</td>
</tr>
<tr>
<td><code>Lw</code></td>
<td>逻辑</td>
<td><code>w</code>宽度</td>
</tr>
<tr>
<td><code>nX</code></td>
<td>输出</td>
<td>把输出的位置向右跳过<code>n</code>个位置</td>
</tr>
<tr>
<td><code>/</code></td>
<td></td>
<td>代表换行</td>
</tr>
<tr>
<td><code>:</code></td>
<td>输出</td>
<td>在没有更多数据时结束输出</td>
</tr>
<tr>
<td><code>kP</code></td>
<td></td>
<td><code>k</code>值控制输入输出的scale，输入数值自动乘上$10^k$，使用指数输入时无效</td>
</tr>
<tr>
<td><code>Tn</code></td>
<td>输出</td>
<td>输出的位置移动到本行的第<code>n</code>列</td>
</tr>
<tr>
<td><code>TLn</code></td>
<td>输出</td>
<td>输出的位置向左相对移动<code>n</code>列</td>
</tr>
<tr>
<td><code>TRn</code></td>
<td>输出</td>
<td>输出的位置向右相对移动<code>n</code>列</td>
</tr>
<tr>
<td><code>SP</code></td>
<td></td>
<td>在数值为正时加上正号</td>
</tr>
<tr>
<td><code>SS</code></td>
<td></td>
<td>取消<code>SP</code></td>
</tr>
</tbody>
</table>
</div>
<p>下面的是 f90 添加的格式</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>作用范围</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Bw[.m]</code></td>
<td>整数</td>
<td>把整数装换成二进制来输出，输出会占据<code>w</code>个字符宽，固定输出<code>m</code>个数字</td>
</tr>
<tr>
<td><code>Ow[.m]</code></td>
<td>整数</td>
<td>把整数转换成八进制输出</td>
</tr>
<tr>
<td><code>Zw[.m]</code></td>
<td>整数</td>
<td>整数转换成十六进制输出</td>
</tr>
</tbody>
</table>
</div>
<p><em>照抄自彭国伦《fortran95程序设计》，很多我也不懂，输入输出并不是很重要的内容，所以也不会一个个确认</em></p>
<pre><code>write(*, &quot;(I5)&quot;) a         ! 整数格式化
write(*, &quot;(F4.1, F4.1)&quot;) c ! 复数要用两个浮点数输出
</code></pre><p><strong>其他</strong>：</p>
<ul>
<li>格式字符串必须放在括号内，如果宽度不够则会输出<code>*</code>号表示警告</li>
<li>重复<code>write(*, &quot;(3I3)&quot;) 1,2,3</code>，以及<code>write(*, &quot;(3(1XF5.2))&quot;) a,b,c</code></li>
<li>放入一些字符串，<code>write(*, &quot;(&#39;3+4=&#39;,I1)&quot;) 3+4</code>，类似于 C 语言<code>printf</code>。<code>FMT</code>本身也是字符串，因此要注意转义。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/21/Fortran/1.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chzhan Yeb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尼古拉斯冰的笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/21/Fortran/1.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="post-title-link" itemprop="url">1.基础知识-Fortran</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-21 20:34:08" itemprop="dateCreated datePublished" datetime="2021-03-21T20:34:08+03:00">2021-03-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-29 11:27:22" itemprop="dateModified" datetime="2021-03-29T11:27:22+03:00">2021-03-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">类别</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">英文字母</td>
<td>A-Za-z</td>
</tr>
<tr>
<td style="text-align:left">数字</td>
<td>0-9</td>
</tr>
<tr>
<td style="text-align:left">22个特殊字符</td>
<td><code>:=+*/(),.&#39;&quot;!%&amp;;&lt;&gt;?$_</code>以及空格</td>
</tr>
</tbody>
</table>
</div>
<p>编译器默认大写，大小写不区分。</p>
<p><strong>注意：</strong></p>
<ul>
<li>“$”和“?”号在程序中没有确切意义</li>
<li>在F77语句中不区分大小写字母，其它变量名和函数名中，大、小写字母也是等价的。</li>
</ul>
<h3 id="书面格式"><a href="#书面格式" class="headerlink" title="书面格式"></a>书面格式</h3><p><strong>Free Fortran (自由格式)</strong> 和 <strong>Fixed Format (固定格式)</strong>.</p>
<p>固定格式是Fortran77的写法，有很多限制，通常后缀为<code>.f</code>或者<code>.for</code>.</p>
<h4 id="Fixed-Format"><a href="#Fixed-Format" class="headerlink" title="Fixed Format"></a>Fixed Format</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">每行的第几个字符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">第1个字符</td>
<td style="text-align:left">如果是字母<code>C</code>,<code>c</code>或星号<code>*</code>，这一行的文本就会当作注释，不会被编译；<br>如果在第一列上出现的不是数字、空格或C和*的字符，编译时按出错处理。</td>
</tr>
<tr>
<td style="text-align:left">标号区：第1-5个字符</td>
<td style="text-align:left">可以写l至5位整数。也可以没有标号。<br>    标号区中的空格不起作用。<br>标号应是无符号整数(无正负号或小数点)。<br>如果是数字，就是这一行代码的代号，否则只能是空格</td>
</tr>
<tr>
<td style="text-align:left">续行区：第6个字符</td>
<td style="text-align:left">如果是<code>0</code>和空格以外的任何字符，表示这一行会接续上一行。<br>F77允许一个语句有19个续行(即一个语句最多可以写成20行)。</td>
</tr>
<tr>
<td style="text-align:left">语句区：第7-72个字符</td>
<td style="text-align:left">fortran程序的编写区域。<br>可以从第7列以后（72列以前）的任何一列开始写，但一行只能写一个语句。<br>超出语句区的字符会引起难以排查、意料不到的错误。<br><br>PS：引号内的字符串中所包括的空格是有效的，不能忽略。</td>
</tr>
<tr>
<td style="text-align:left">注释区：第73-80个字符</td>
<td style="text-align:left">不使用超出部分会被忽略<br>PS：在卡片输入法时代，程序员利用此区查找程序行。</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Free-Format"><a href="#Free-Format" class="headerlink" title="Free Format"></a>Free Format</h4><p>自由格式是Fortran90之后的写法。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>组成</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>行</td>
<td>每行可以编写132个字符<br>可以有复数条程序语句，语句间用分号“;”分开<br>语句没有位置规定。</td>
</tr>
<tr>
<td>注释行</td>
<td><code>“!”</code>之后的都是注释</td>
</tr>
<tr>
<td>续行</td>
<td>允许有39个续行。<br>在语句行最后加上续行符“&amp;”号。<br>如果字符串跨2行以上,则在续行的开始位置也要加“&amp;”号。<br>PS：语句的有效字符是从“&amp;”前和续行符“&amp;”之后的位置算起。</td>
</tr>
<tr>
<td>空格</td>
<td>在语句名和变量名中间不能有空格。<br>需要空格的地方必须有一个以上空格<br>        （GOTO和GO TO，ELSEIF和ELSE IF，END构造名 (构造名有：DO, PROGRAM, FUNCTION, MODULE, SUBROUTINE) 等有两种写法的除外）</td>
</tr>
</tbody>
</table>
</div>
<h3 id="文件扩展名"><a href="#文件扩展名" class="headerlink" title="文件扩展名"></a>文件扩展名</h3><ul>
<li>固定格式： .for 或 .f</li>
<li>自由格式： .f90</li>
</ul>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li>整数<code>INTEGER</code>：<ul>
<li>默认值为4字节（其它为1，2，8字节，Compaq Visual Fortran允许在Alpha机上使用8字节整数）。</li>
<li>第1位为O表示“正”，“1”表示“负”。</li>
<li>整数的范围是有限的：$[-2^{31},2^{31}-1]$</li>
</ul>
</li>
<li>浮点数<code>REAL</code><ul>
<li>单精度有效位数6-7，双精度有效位数15-16.</li>
<li>默认值为4字节（其它为8字节）</li>
<li>实数在内存中一律以<strong>指数形式</strong>存放，它由1)数符；(2)指数包括符号；(3)数字部分  组成</li>
<li>用4个字节(32bit)来存储时，1位存储数的符号，7位存储指数部分，24位存储数字部分。</li>
<li>如果一个数的绝对值超过此范围，就会出现“<strong>溢出</strong>”，绝对值比上界大的称为“<strong>上溢</strong>”，系统对此按数据出错处理。比下界小的称为“<strong>下溢</strong>”，大多数计算机系统将该数据按零处理。</li>
</ul>
</li>
<li>复数<code>COMPLEX</code>：<code>a+bi</code><ul>
<li>默认值为2×4字节（其它为8字节）。</li>
<li>实部与虚部用括号围起来表示：(实数，实数)。</li>
</ul>
</li>
<li>字符<code>CHARACTER</code><ul>
<li>1个字符为1字节（中文系统中为2字节）。</li>
<li>用 ‘ ‘(F90：” “)围起来的字符串。</li>
</ul>
</li>
<li>逻辑类型<code>LOGICAL</code><ul>
<li>默认值为4字节（其它为1字节）。</li>
<li>其值只能为：.TRUE.（真） 和 .FALSE.（假）。</li>
</ul>
</li>
<li>数组 <code>ARRAY</code><ul>
<li>(/常量，常量，…，常量/)。 (F90)</li>
</ul>
</li>
</ul>
<h4 id="变量命名"><a href="#变量命名" class="headerlink" title="变量命名"></a>变量命名</h4><ul>
<li><p>英文，下划线和数字，前缀必须是英文</p>
</li>
<li><p>变量长度：f77标准最起码支持 6 个字符长（也就是说超过 6 个字符理论上是可以不支持的），f90 起码支持31 个字符长</p>
</li>
<li><p>不区分大小写</p>
</li>
<li><p>变量类型:</p>
<ul>
<li>整型变量<code>INTEGER</code></li>
<li>实型变量<code>REAL</code></li>
<li>双精度变量<code>DOUBLE PRECISION</code></li>
<li>复型变量<code>COMPLEX</code></li>
<li>逻辑型变量<code>LOGICAL</code></li>
<li>字符型变量<code>CHARACTER</code></li>
</ul>
</li>
<li><p>隐含约定:</p>
<ul>
<li>凡以<strong>字母I，J，K，L，M，N六个字母开头</strong>的变量名，如无另外说明则为<strong>整型变量</strong>。(“I—N规则”)</li>
<li>以其它字母开头的变量为实型变量。</li>
</ul>
</li>
<li><p>类型指定：</p>
<ul>
<li>用类型说明语句专门指定某些变量的类型。</li>
<li>六个类型说明语句：<ul>
<li>INTEGER语句（整型说明语句）</li>
<li>REAL语句（实型说明语句）</li>
<li>DOUBLE PRECISION语句（双精度说明语句）</li>
<li>COMPLEX语句（复型说明语句）</li>
<li>LOGICAL语句（逻辑型说明语句）</li>
<li>CHARACTER语句（字符型说明语句）</li>
</ul>
</li>
</ul>
</li>
<li><p>IMPLICIT语句（隐含说明语句）指定：</p>
<ul>
<li><p>可以用<code>IMPLICIT</code>语句将某一字母开头的全部变量指定为所需的类型，还可以用一个IMPLICIT语句同时指定几种类型</p>
</li>
<li><p>例子：</p>
<pre><code>IMPLICIT INTEGER (A，C，T-V)
IMPLICIT REAL (I，J)
IMPLICIT INTEGER (A，B)，REAL(I,K)，INTEGER (X-Z)
</code></pre></li>
</ul>
</li>
</ul>
<p>PS:</p>
<ul>
<li>类型说明语句最优先，IMPLICIT语句次之，“I—N规则”的隐含约定级别最低。</li>
<li>类型说明语句和IMPLICIT语句是<strong>非执行语句</strong></li>
<li>类型说明只在本程序单位内有效</li>
<li>IMPLICIT语句和类型说明语句应该出现在本程序单位中的所有执行语句之前，其中IMPLICIT语句又应在所有的类型说明语句之前。</li>
</ul>
<h3 id="算数表达式"><a href="#算数表达式" class="headerlink" title="算数表达式"></a>算数表达式</h3><ul>
<li><code>+-*/</code>四则运算</li>
<li><code>**</code>幂运算，两个星号必须连续</li>
<li><code>()</code>括号表示运算优先级:<ul>
<li>① 括号 &gt; ② 函数 &gt; ③ <em>* &gt; ④ </em> / &gt; ⑤ ＋ －</li>
<li>同一优先级的两个运算，乘方按“先右后左”，其它按“先左后右”原则</li>
</ul>
</li>
<li><strong>算术表达式</strong>中各运算元素都是算术量，使用的运算符只能是算术运算符，表达式的值也是一个算术量(即数值)。<ul>
<li>由于用“/”号作为除号，因此在写除法运算式子时应加上必要的括号。</li>
<li>乘号不能省略，如 $ asin(x)$，必须写成A*SIN(X)，而不能写成ASIN(X)。</li>
<li>Fortran中无大、中、小括号之分，一律用小括号。</li>
<li>对单项运算符 (如-A中的符号) 相当于在它前面有一个运算量“0”，如：$－A<strong>2$ 相当于 $0-A</strong>2$ 而非 $(-A)**2$。</li>
</ul>
</li>
<li>表达式运算中的类型:<ul>
<li>同类型的算术量之间运算的结果仍保持原类型。<ul>
<li>两个整数相除的商也是整数</li>
</ul>
</li>
<li>如果参加运算的两个算术量为不同类型，则编译系统会自动将它们转换成同一类型后进行运算。<ul>
<li>规律：将低级类型转换成高级类型</li>
<li>整型(低)→实型(高)</li>
<li>类型的转换是从左向右进行的，在遇到不同类型的算术量时才进行转换</li>
</ul>
</li>
</ul>
</li>
<li>误差:<ul>
<li>整数无误差，但实数有（由于位数限制）</li>
<li>在写表达式时应尽量使每一次运算结果都在有效位数范围之内，尽量不要使两个相差很大的数值直接相加或相减。</li>
<li>在判断两个实数是否相等时，要特别慎重，最好改为判断　$|Ａ－Ｂ|\leq\epsilon$，即A和B之差的绝对值如果小于 $\epsilon$ ($\epsilon$ 为一个很小的数，如10-10)，则认为A和B相等</li>
</ul>
</li>
</ul>
<h3 id="内在函数"><a href="#内在函数" class="headerlink" title="内在函数"></a>内在函数</h3><div class="table-container">
<table>
<thead>
<tr>
<th>函数名</th>
<th>含 义</th>
<th>应用例子</th>
<th>相当数学上的运算</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABS</td>
<td>求绝对值</td>
<td>ABS(X)</td>
<td>$$</td>
<td>x</td>
<td>$$</td>
</tr>
<tr>
<td>EXP</td>
<td>指数运算</td>
<td>EXP(X)</td>
<td><script type="math/tex">exp(x)</script></td>
</tr>
<tr>
<td>SIN</td>
<td>正弦值</td>
<td>SIN(X)</td>
<td><script type="math/tex">sin(x)</script></td>
</tr>
<tr>
<td>COS</td>
<td>余弦值</td>
<td>COS(X)</td>
<td><script type="math/tex">cos(x)</script></td>
</tr>
<tr>
<td>ASIN</td>
<td>反正弦</td>
<td>ASIN(X)</td>
<td><script type="math/tex">arcsin(x)</script></td>
</tr>
<tr>
<td>ACOS</td>
<td>反余弦</td>
<td>ACOS(X)</td>
<td><script type="math/tex">arccos(x)</script></td>
</tr>
<tr>
<td>TAN</td>
<td>正切</td>
<td>TAN(X)</td>
<td><script type="math/tex">tan(x)</script></td>
</tr>
<tr>
<td>ATAN</td>
<td>反正切</td>
<td>ATAN(X)</td>
<td><script type="math/tex">arctan(x)</script></td>
</tr>
<tr>
<td>LOG</td>
<td>自然对数</td>
<td>ALOG(X)</td>
<td><script type="math/tex">ln(x)</script></td>
</tr>
<tr>
<td>LOG10</td>
<td>常用对数</td>
<td>ALOG10(X)</td>
<td><script type="math/tex">\log_{10}(x)</script></td>
</tr>
<tr>
<td>INT</td>
<td>取整</td>
<td>INT(X)</td>
<td><script type="math/tex">int(x)</script>，取<script type="math/tex">x</script>的整数部分</td>
</tr>
<tr>
<td>MOD</td>
<td>求余</td>
<td>MOD(X1，X2)</td>
<td><script type="math/tex">x-int(x_1/x_2)\cdot x_2</script></td>
</tr>
<tr>
<td>SIGN</td>
<td>求符号</td>
<td>SIGN(Xl，X2)</td>
<td>$$</td>
<td>x_1</td>
<td><script type="math/tex">或</script>-</td>
<td>x_2</td>
<td>$$</td>
</tr>
<tr>
<td>REAL</td>
<td>转换为实型</td>
<td>REAL(I)</td>
<td></td>
</tr>
<tr>
<td>MAX</td>
<td>求最大值</td>
<td>MAX0(I1，I2，I3)</td>
<td><script type="math/tex">max(i_1,i_2,i_3)</script></td>
</tr>
<tr>
<td>MIN</td>
<td>求最小值</td>
<td>MIN(Xl，X2，X3)</td>
<td><script type="math/tex">min(i_1,i_2,i_3)</script></td>
</tr>
</tbody>
</table>
</div>
<h4 id="执行方法"><a href="#执行方法" class="headerlink" title="执行方法:"></a>执行方法:</h4><p>Fortran将这些内在函数分别编成单个子程序，组成函数库，存在于外部介质(如磁盘)上。</p>
<p>在完成源程序的编译之后，用LINK命令实现连接，即将已翻译成二进制指令的目标程序与函数库连接。也就是将程序中出现函数名的地方用函数库中相应的一组指令代入之，组成一个统一的“可执行目标块”。</p>
<h4 id="函数名分为“通用名”和“专用名”"><a href="#函数名分为“通用名”和“专用名”" class="headerlink" title="函数名分为“通用名”和“专用名”"></a>函数名分为“通用名”和“专用名”</h4><p>例如求余函数的“通用名”为MOD，“专用名”有三个(MOD，AMOD，DMOD)。根据自变量的类型就自动确定了函数值的类型，如MOD(8,3)的值为整型，而MOD(8.0,3.0)的值为实型。当调用子程序时如果用内在函数作为自变量(实参)，必须使用该内在函数的专用名。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Chzhan Yeb</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chzhan Yeb</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
